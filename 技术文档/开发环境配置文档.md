# å›¢é˜ŸçŸ¥è¯†åº“ç®¡ç†å·¥å…· - å¼€å‘ç¯å¢ƒé…ç½®æ–‡æ¡£ (macOS 11.7.10)

## 1. æ¦‚è¿°

æœ¬æ–‡æ¡£ä¸“é—¨é’ˆå¯¹ macOS 11.7.10 ç³»ç»Ÿï¼Œè¯¦ç»†ä»‹ç»å›¢é˜ŸçŸ¥è¯†åº“ç®¡ç†å·¥å…·çš„å¼€å‘ç¯å¢ƒæ­å»ºã€é…ç½®å’Œä½¿ç”¨æ–¹æ³•ã€‚

### 1.1 å¼€å‘ç¯å¢ƒä¿¡æ¯
- **ç›®æ ‡ç³»ç»Ÿ**: macOS 11.7.10 (Big Sur)
- **å¼€å‘æ¨¡å¼**: å•æœºå¼€å‘ç¯å¢ƒ
- **æ¶æ„**: M1/Intel å…¼å®¹

### 1.2 æŠ€æœ¯æ ˆ
- **å‰ç«¯**: React 18 + TypeScript + Vite + Ant Design
- **åç«¯**: Node.js + Express + TypeScript + SQLite
- **å¼€å‘å·¥å…·**: ESLint + Prettier + Husky + lint-staged

### 1.3 å¼€å‘ç¯å¢ƒæ¶æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              macOS 11.7.10 å¼€å‘ç¯å¢ƒ                 â”‚
â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚    å‰ç«¯      â”‚    â”‚    åç«¯      â”‚               â”‚
â”‚  â”‚  Vite Dev   â”‚    â”‚   Node.js   â”‚               â”‚
â”‚  â”‚ localhost:  â”‚â”€â”€â”€â”€â”‚ localhost:  â”‚               â”‚
â”‚  â”‚    3000     â”‚    â”‚    8000     â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                            â”‚                        â”‚
â”‚                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚                     â”‚   SQLite    â”‚               â”‚
â”‚                     â”‚  æœ¬åœ°æ•°æ®åº“  â”‚               â”‚
â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              æœ¬åœ°æ–‡ä»¶å­˜å‚¨                        â”‚ â”‚
â”‚  â”‚    ~/Documents/testClass/uploads               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 2. macOS ç³»ç»Ÿè¦æ±‚å’Œå‡†å¤‡

### 2.1 ç³»ç»Ÿä¿¡æ¯ç¡®è®¤
```bash
# æ£€æŸ¥ç³»ç»Ÿç‰ˆæœ¬
sw_vers

# è¾“å‡ºç¤ºä¾‹:
# ProductName:    Mac OS X
# ProductVersion: 11.7.10
# BuildVersion:   20G1427

# æ£€æŸ¥å¤„ç†å™¨æ¶æ„
uname -m
# Intel: x86_64
# Apple Silicon: arm64
```

### 2.2 å¿…éœ€è½¯ä»¶ç‰ˆæœ¬
- **Node.js**: 16.14.0+ (æ¨è 18.x LTS)
- **npm**: 8.0.0+ (Node.js è‡ªå¸¦)
- **Git**: 2.30.0+ (Xcode Command Line Tools è‡ªå¸¦)

### 2.3 ç³»ç»Ÿèµ„æºè¦æ±‚
- **å†…å­˜**: æœ€ä½ 8GB (æ¨è 16GB)
- **ç£ç›˜ç©ºé—´**: æœ€ä½ 10GB å¯ç”¨ç©ºé—´
- **ç½‘ç»œ**: éœ€è¦äº’è”ç½‘è¿æ¥ä¸‹è½½ä¾èµ–åŒ…

## 3. macOS å¼€å‘å·¥å…·å®‰è£…

### 3.1 Xcode Command Line Tools å®‰è£…
é¦–å…ˆå®‰è£… Xcode Command Line Toolsï¼Œè¿™æ˜¯ macOS å¼€å‘çš„åŸºç¡€ï¼š

```bash
# å®‰è£… Xcode Command Line Tools
xcode-select --install

# éªŒè¯å®‰è£…
xcode-select -p
# è¾“å‡º: /Library/Developer/CommandLineTools

# æ£€æŸ¥ Git ç‰ˆæœ¬
git --version
# è¾“å‡º: git version 2.32.0 (Apple Git-132) æˆ–æ›´é«˜ç‰ˆæœ¬
```

### 3.2 Homebrew åŒ…ç®¡ç†å™¨å®‰è£…
Homebrew æ˜¯ macOS ä¸Šå¿…å¤‡çš„åŒ…ç®¡ç†å™¨ï¼š

```bash
# å®‰è£… Homebrew
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# éªŒè¯å®‰è£…
brew --version

# æ›´æ–° Homebrew
brew update

# æ£€æŸ¥ç³»ç»Ÿ
brew doctor
```

### 3.3 Node.js å®‰è£…

#### æ–¹æ³•1: ä½¿ç”¨ Homebrew (æ¨è)
```bash
# å®‰è£…æœ€æ–° LTS ç‰ˆæœ¬
brew install node

# éªŒè¯å®‰è£…
node --version  # åº”è¯¥æ˜¾ç¤º v16.14.0 æˆ–æ›´é«˜ç‰ˆæœ¬
npm --version   # åº”è¯¥æ˜¾ç¤º 8.0.0 æˆ–æ›´é«˜ç‰ˆæœ¬
```

#### æ–¹æ³•2: ä½¿ç”¨ nvm (æ¨èç”¨äºå¤šç‰ˆæœ¬ç®¡ç†)
```bash
# å®‰è£… nvm
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh | bash

# é‡æ–°åŠ è½½ shell é…ç½®
source ~/.zshrc
# æˆ–
source ~/.bash_profile

# å®‰è£…æœ€æ–° LTS ç‰ˆæœ¬
nvm install --lts
nvm use --lts

# éªŒè¯å®‰è£…
node --version
npm --version

# è®¾ç½®é»˜è®¤ç‰ˆæœ¬
nvm alias default node
```

#### æ–¹æ³•3: ç›´æ¥ä¸‹è½½å®‰è£…åŒ…
```bash
# è®¿é—® https://nodejs.org/ ä¸‹è½½ macOS å®‰è£…åŒ…
# ä¸‹è½½ .pkg æ–‡ä»¶å¹¶åŒå‡»å®‰è£…
# é€‚ç”¨äºä¸æƒ³ä½¿ç”¨å‘½ä»¤è¡Œçš„ç”¨æˆ·
```

### 3.4 Git é…ç½®
```bash
# é…ç½®ç”¨æˆ·ä¿¡æ¯
git config --global user.name "ä½ çš„å§“å"
git config --global user.email "ä½ çš„é‚®ç®±@example.com"

# é…ç½®é»˜è®¤ç¼–è¾‘å™¨
git config --global core.editor "code --wait"

# é…ç½®è¡Œç»“æŸç¬¦ (macOS æ¨èè®¾ç½®)
git config --global core.autocrlf input

# éªŒè¯é…ç½®
git config --list
```

### 3.5 VS Code å®‰è£…å’Œé…ç½®

#### å®‰è£… VS Code
```bash
# æ–¹æ³•1: ä½¿ç”¨ Homebrew
brew install --cask visual-studio-code

# æ–¹æ³•2: ç›´æ¥ä¸‹è½½
# è®¿é—® https://code.visualstudio.com/download
# ä¸‹è½½ macOS ç‰ˆæœ¬å¹¶æ‹–æ‹½åˆ° Applications æ–‡ä»¶å¤¹

# éªŒè¯å®‰è£…
code --version
```

#### é…ç½®å‘½ä»¤è¡Œå·¥å…·
```bash
# æ‰“å¼€ VS Code
open -a "Visual Studio Code"

# åœ¨ VS Code ä¸­æŒ‰ Cmd+Shift+Pï¼Œè¾“å…¥ "Shell Command: Install 'code' command in PATH"
# æˆ–è€…æ‰‹åŠ¨åˆ›å»ºè½¯é“¾æ¥ï¼š
sudo ln -fs "/Applications/Visual Studio Code.app/Contents/Resources/app/bin/code" /usr/local/bin/code
```

#### å¿…å¤‡æ‰©å±•å®‰è£…
```bash
# å®‰è£…å¿…å¤‡æ‰©å±•
code --install-extension ms-vscode.vscode-typescript-next
code --install-extension esbenp.prettier-vscode
code --install-extension dbaeumer.vscode-eslint
code --install-extension ms-vscode.vscode-json
code --install-extension formulahendry.auto-rename-tag
code --install-extension christian-kohler.path-intellisense
code --install-extension ms-vscode.vscode-npm-script
code --install-extension gruntfuggly.todo-tree
code --install-extension streetsidesoftware.code-spell-checker
```

#### macOS ä¸“ç”¨é…ç½®
åˆ›å»ºé¡¹ç›®æ ¹ç›®å½• `.vscode/settings.json`ï¼š
```json
{
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "editor.formatOnSave": true,
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  },
  "typescript.preferences.importModuleSpecifier": "relative",
  "files.exclude": {
    "**/node_modules": true,
    "**/dist": true,
    "**/.git": true,
    "**/.DS_Store": true
  },
  "search.exclude": {
    "**/node_modules": true,
    "**/dist": true,
    "**/.DS_Store": true
  },
  "terminal.integrated.defaultProfile.osx": "zsh",
  "terminal.integrated.env.osx": {
    "NODE_ENV": "development"
  }
}
```

### 3.6 å…¶ä»–æ¨èå·¥å…·å®‰è£…

#### æ•°æ®åº“å·¥å…·
```bash
# DB Browser for SQLite
brew install --cask db-browser-for-sqlite
```

#### API æµ‹è¯•å·¥å…·
```bash
# Postman
brew install --cask postman

# æˆ–è€… Insomnia
brew install --cask insomnia
```

#### ç»ˆç«¯å¢å¼º
```bash
# å®‰è£… iTerm2 (å¯é€‰ï¼ŒTerminal.app ä¹Ÿå¤Ÿç”¨)
brew install --cask iterm2

# å®‰è£… oh-my-zsh (å¯é€‰)
sh -c "$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"
```

## 4. é¡¹ç›®åˆå§‹åŒ–

### 4.1 é¡¹ç›®ç›®å½•è®¾ç½®
```bash
# è¿›å…¥é¡¹ç›®ç›®å½• (å½“å‰å·²åœ¨æ­¤ç›®å½•)
cd ~/Documents/testClass

# æŸ¥çœ‹å½“å‰ç›®å½•ç»“æ„
ls -la

# åˆ›å»ºå¿…è¦çš„å­ç›®å½•
mkdir -p frontend backend database uploads/{documents,thumbnails,avatars} logs scripts

# åˆ›å»ºåŸºæœ¬æ–‡ä»¶
touch .gitignore .env README.md
```

### 4.2 ç¯å¢ƒé…ç½®æ–‡ä»¶

#### æ ¹ç›®å½•é…ç½®
åˆ›å»ºæ ¹ç›®å½• `.env` æ–‡ä»¶ï¼š
```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º .env æ–‡ä»¶
cat > .env << 'EOF'
# é¡¹ç›®åŸºæœ¬ä¿¡æ¯
PROJECT_NAME=knowledge-base-management
PROJECT_VERSION=1.0.0

# å¼€å‘ç¯å¢ƒé…ç½®
NODE_ENV=development
DEBUG=app:*

# macOS æœ¬åœ°è·¯å¾„é…ç½®
PROJECT_ROOT=/Users/weichen/Documents/testClass
UPLOAD_PATH=/Users/weichen/Documents/testClass/uploads
DB_PATH=/Users/weichen/Documents/testClass/database

# å‰ç«¯å¼€å‘æœåŠ¡å™¨
FRONTEND_PORT=3000
FRONTEND_HOST=localhost

# åç«¯å¼€å‘æœåŠ¡å™¨
BACKEND_PORT=8000
BACKEND_HOST=localhost
EOF
```

#### åç«¯ç¯å¢ƒé…ç½®
```bash
# åˆ›å»ºåç«¯ç¯å¢ƒé…ç½®
mkdir -p backend
cat > backend/.env.development << 'EOF'
# æœåŠ¡å™¨é…ç½®
PORT=8000
HOST=localhost
NODE_ENV=development

# macOS æœ¬åœ°è·¯å¾„é…ç½®
DB_PATH=/Users/weichen/Documents/testClass/database/knowledge_base_dev.db
UPLOAD_PATH=/Users/weichen/Documents/testClass/uploads
LOG_FILE=/Users/weichen/Documents/testClass/logs/app.log

# JWT é…ç½®
JWT_SECRET=dev_jwt_secret_key_12345_macos
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# æ–‡ä»¶ä¸Šä¼ é…ç½®
MAX_FILE_SIZE=104857600
ALLOWED_FILE_TYPES=pdf,doc,docx,xls,xlsx,ppt,pptx,txt,jpg,png,gif,svg

# CORS é…ç½®
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true

# æ—¥å¿—é…ç½®
LOG_LEVEL=debug
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# å¼€å‘å·¥å…·é…ç½®
ENABLE_DOCS=true
ENABLE_PLAYGROUND=true
SWAGGER_PATH=/api-docs

# macOS ç‰¹å®šé…ç½®
PLATFORM=darwin
NODE_ENV=development
EOF
```

#### å‰ç«¯ç¯å¢ƒé…ç½®
```bash
# åˆ›å»ºå‰ç«¯ç¯å¢ƒé…ç½®
mkdir -p frontend
cat > frontend/.env.development << 'EOF'
# API é…ç½®
VITE_API_BASE_URL=http://localhost:8000/api/v1
VITE_API_TIMEOUT=30000

# åº”ç”¨é…ç½®
VITE_APP_TITLE=å›¢é˜ŸçŸ¥è¯†åº“ç®¡ç†å·¥å…·
VITE_APP_DESCRIPTION=å›¢é˜Ÿæ–‡æ¡£çŸ¥è¯†ç®¡ç†å¹³å°
VITE_APP_VERSION=1.0.0

# å¼€å‘é…ç½®
VITE_DEV_PORT=3000
VITE_DEV_HOST=localhost
VITE_DEV_OPEN=true

# macOS å¼€å‘é…ç½®
VITE_PLATFORM=darwin
VITE_DEV_HTTPS=false

# åŠŸèƒ½å¼€å…³
VITE_ENABLE_MOCK=false
VITE_ENABLE_DEVTOOLS=true

# æ–‡ä»¶ä¸Šä¼ é…ç½®
VITE_MAX_FILE_SIZE=104857600
VITE_ALLOWED_FILE_TYPES=pdf,doc,docx,xls,xlsx,ppt,pptx,txt,jpg,png,gif

# macOS æœ¬åœ°å­˜å‚¨è·¯å¾„
VITE_UPLOAD_BASE_URL=http://localhost:8000/uploads
EOF
```

## 5. macOS é¡¹ç›®åˆå§‹åŒ–

### 5.1 åˆ›å»º .gitignore æ–‡ä»¶
```bash
# åˆ›å»º macOS å’Œ Node.js ä¸“ç”¨çš„ .gitignore
cat > .gitignore << 'EOF'
# macOS ç³»ç»Ÿæ–‡ä»¶
.DS_Store
.DS_Store?
._*
.Spotlight-V100
.Trashes
ehthumbs.db
Thumbs.db

# Node.js
node_modules/
npm-debug.log*
yarn-debug.log*
yarn-error.log*
lerna-debug.log*

# ç¯å¢ƒå˜é‡
.env
.env.local
.env.development.local
.env.test.local
.env.production.local

# æ—¥å¿—æ–‡ä»¶
logs/
*.log

# æ„å»ºè¾“å‡º
dist/
build/
*.tgz
*.tar.gz

# æ•°æ®åº“æ–‡ä»¶
database/*.db
database/*.sqlite
database/*.sqlite3

# ä¸Šä¼ æ–‡ä»¶
uploads/

# IDE é…ç½®
.vscode/
.idea/

# ä¸´æ—¶æ–‡ä»¶
temp/
tmp/
*.tmp
*.temp

# å¤‡ä»½æ–‡ä»¶
*.bak
*.backup
EOF
```

### 5.2 é¡¹ç›®ç»“æ„åˆå§‹åŒ–
```bash
# åˆ›å»ºå®Œæ•´çš„é¡¹ç›®ç»“æ„
mkdir -p {frontend,backend}/{src,dist,public}
mkdir -p frontend/src/{components,pages,hooks,services,store,utils,types,styles}
mkdir -p backend/src/{controllers,services,models,dao,middleware,routes,utils,config}
mkdir -p database logs uploads/{documents,thumbnails,avatars}
mkdir -p scripts docs tests

# åˆ›å»ºåŸºç¡€é…ç½®æ–‡ä»¶
touch frontend/package.json backend/package.json
touch frontend/tsconfig.json backend/tsconfig.json
touch frontend/vite.config.ts backend/nodemon.json
```

### 5.3 åˆå§‹åŒ– npm é¡¹ç›®

#### æ ¹ç›®å½• package.json
```bash
cat > package.json << 'EOF'
{
  "name": "knowledge-base-management",
  "version": "1.0.0",
  "description": "å›¢é˜ŸçŸ¥è¯†åº“ç®¡ç†å·¥å…·",
  "scripts": {
    "dev": "concurrently \"npm run dev:backend\" \"npm run dev:frontend\"",
    "dev:backend": "cd backend && npm run dev",
    "dev:frontend": "cd frontend && npm run dev",
    "build": "npm run build:backend && npm run build:frontend",
    "build:backend": "cd backend && npm run build",
    "build:frontend": "cd frontend && npm run build",
    "install:all": "npm install && cd backend && npm install && cd ../frontend && npm install",
    "clean": "rm -rf node_modules backend/node_modules frontend/node_modules",
    "lint": "npm run lint:backend && npm run lint:frontend",
    "lint:backend": "cd backend && npm run lint",
    "lint:frontend": "cd frontend && npm run lint"
  },
  "keywords": ["knowledge-base", "document-management", "team-collaboration"],
  "author": "Development Team",
  "license": "MIT",
  "devDependencies": {
    "concurrently": "^7.6.0",
    "husky": "^8.0.0",
    "lint-staged": "^13.0.0"
  },
  "engines": {
    "node": ">=16.14.0",
    "npm": ">=8.0.0"
  }
}
EOF
```

#### å®‰è£…æ ¹ç›®å½•ä¾èµ–
```bash
npm install
```

### 5.4 åç«¯é¡¹ç›®åˆå§‹åŒ–

#### åˆ›å»ºåç«¯ package.json
```bash
cd backend
cat > package.json << 'EOF'
{
  "name": "knowledge-base-backend",
  "version": "1.0.0",
  "description": "å›¢é˜ŸçŸ¥è¯†åº“ç®¡ç†å·¥å…·åç«¯æœåŠ¡",
  "main": "src/app.ts",
  "scripts": {
    "dev": "nodemon src/app.ts",
    "build": "tsc",
    "start": "node dist/app.js",
    "lint": "eslint src/**/*.ts",
    "lint:fix": "eslint src/**/*.ts --fix",
    "format": "prettier --write src/**/*.ts",
    "test": "jest",
    "test:watch": "jest --watch"
  },
  "dependencies": {
    "express": "^4.18.2",
    "sqlite3": "^5.1.6",
    "bcryptjs": "^2.4.3",
    "jsonwebtoken": "^9.0.2",
    "multer": "^1.4.5",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "helmet": "^7.0.0",
    "morgan": "^1.10.0"
  },
  "devDependencies": {
    "@types/node": "^20.5.0",
    "@types/express": "^4.17.17",
    "@types/cors": "^2.8.13",
    "@types/multer": "^1.4.7",
    "@types/bcryptjs": "^2.4.2",
    "@types/jsonwebtoken": "^9.0.2",
    "@types/morgan": "^1.9.4",
    "typescript": "^5.1.6",
    "ts-node": "^10.9.1",
    "nodemon": "^3.0.1",
    "eslint": "^8.47.0",
    "prettier": "^3.0.1",
    "@typescript-eslint/parser": "^6.4.0",
    "@typescript-eslint/eslint-plugin": "^6.4.0",
    "jest": "^29.6.2",
    "@types/jest": "^29.5.4"
  },
  "engines": {
    "node": ">=16.14.0"
  }
}
EOF

# å®‰è£…åç«¯ä¾èµ–
npm install
cd ..
```

#### åˆ›å»ºå‰ç«¯ package.json
```bash
cd frontend
cat > package.json << 'EOF'
{
  "name": "knowledge-base-frontend",
  "version": "1.0.0",
  "description": "å›¢é˜ŸçŸ¥è¯†åº“ç®¡ç†å·¥å…·å‰ç«¯åº”ç”¨",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "tsc && vite build",
    "preview": "vite preview",
    "lint": "eslint src --ext ts,tsx --report-unused-disable-directives --max-warnings 0",
    "lint:fix": "eslint src --ext ts,tsx --fix",
    "format": "prettier --write src/**/*.{ts,tsx}",
    "test": "vitest",
    "test:ui": "vitest --ui"
  },
  "dependencies": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "react-router-dom": "^6.15.0",
    "antd": "^5.8.5",
    "axios": "^1.5.0",
    "@ant-design/icons": "^5.2.6"
  },
  "devDependencies": {
    "@types/react": "^18.2.20",
    "@types/react-dom": "^18.2.7",
    "@typescript-eslint/eslint-plugin": "^6.4.0",
    "@typescript-eslint/parser": "^6.4.0",
    "@vitejs/plugin-react": "^4.0.4",
    "eslint": "^8.47.0",
    "eslint-plugin-react": "^7.33.2",
    "eslint-plugin-react-hooks": "^4.6.0",
    "eslint-plugin-react-refresh": "^0.4.3",
    "prettier": "^3.0.1",
    "typescript": "^5.1.6",
    "vite": "^4.4.9",
    "vitest": "^0.34.3"
  },
  "engines": {
    "node": ">=16.14.0"
  }
}
EOF

# å®‰è£…å‰ç«¯ä¾èµ–
npm install
cd ..
```

### 5.5 TypeScript é…ç½®

#### åç«¯ TypeScript é…ç½®
```bash
cat > backend/tsconfig.json << 'EOF'
{
  "compilerOptions": {
    "target": "ES2020",
    "module": "commonjs",
    "lib": ["ES2020"],
    "outDir": "./dist",
    "rootDir": "./src",
    "strict": true,
    "esModuleInterop": true,
    "skipLibCheck": true,
    "forceConsistentCasingInFileNames": true,
    "resolveJsonModule": true,
    "declaration": true,
    "declarationMap": true,
    "sourceMap": true,
    "removeComments": true,
    "noImplicitAny": true,
    "strictNullChecks": true,
    "strictFunctionTypes": true,
    "noImplicitReturns": true,
    "noFallthroughCasesInSwitch": true,
    "moduleResolution": "node",
    "baseUrl": "./",
    "paths": {
      "@/*": ["src/*"]
    }
  },
  "include": [
    "src/**/*"
  ],
  "exclude": [
    "node_modules",
    "dist",
    "**/*.test.ts"
  ]
}
EOF
```

#### å‰ç«¯ TypeScript é…ç½®
```bash
cat > frontend/tsconfig.json << 'EOF'
{
  "compilerOptions": {
    "target": "ES2020",
    "useDefineForClassFields": true,
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "module": "ESNext",
    "skipLibCheck": true,
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "react-jsx",
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noFallthroughCasesInSwitch": true,
    "baseUrl": "./",
    "paths": {
      "@/*": ["src/*"]
    }
  },
  "include": [
    "src"
  ],
  "exclude": [
    "node_modules",
    "dist"
  ],
  "references": [
    {
      "path": "./tsconfig.node.json"
    }
  ]
}
EOF

cat > frontend/tsconfig.node.json << 'EOF'
{
  "compilerOptions": {
    "composite": true,
    "skipLibCheck": true,
    "module": "ESNext",
    "moduleResolution": "bundler",
    "allowSyntheticDefaultImports": true
  },
  "include": [
    "vite.config.ts"
  ]
}
EOF
```

### 5.6 Vite é…ç½® (å‰ç«¯)
```bash
cat > frontend/vite.config.ts << 'EOF'
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'
import path from 'path'

export default defineConfig({
  plugins: [react()],
  resolve: {
    alias: {
      '@': path.resolve(__dirname, './src'),
    },
  },
  server: {
    port: 3000,
    host: 'localhost',
    open: true,
    proxy: {
      '/api': {
        target: 'http://localhost:8000',
        changeOrigin: true,
        secure: false,
      },
      '/uploads': {
        target: 'http://localhost:8000',
        changeOrigin: true,
        secure: false,
      }
    }
  },
  build: {
    outDir: 'dist',
    sourcemap: true,
    minify: 'terser',
  }
})
EOF
```

### 5.7 Nodemon é…ç½® (åç«¯)
```bash
cat > backend/nodemon.json << 'EOF'
{
  "watch": ["src"],
  "ext": "ts,json",
  "ignore": ["src/**/*.test.ts", "dist"],
  "exec": "ts-node src/app.ts",
  "env": {
    "NODE_ENV": "development"
  },
  "delay": 1000
}
EOF
```

## 6. æ•°æ®åº“å’Œæ–‡ä»¶ç»“æ„åˆå§‹åŒ–

### 6.1 åˆ›å»ºæ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
```bash
# åˆ›å»ºæ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
cat > scripts/init-db.js << 'EOF'
const sqlite3 = require('sqlite3').verbose();
const path = require('path');
const fs = require('fs');

const dbPath = path.join(__dirname, '../database/knowledge_base_dev.db');
const dbDir = path.dirname(dbPath);

// ç¡®ä¿æ•°æ®åº“ç›®å½•å­˜åœ¨
if (!fs.existsSync(dbDir)) {
  fs.mkdirSync(dbDir, { recursive: true });
}

// åˆ›å»ºæ•°æ®åº“è¿æ¥
const db = new sqlite3.Database(dbPath);

// åˆ›å»ºè¡¨çš„SQLè¯­å¥
const createTables = `
-- ç”¨æˆ·è¡¨
CREATE TABLE IF NOT EXISTS users (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    username VARCHAR(50) UNIQUE NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    password_hash VARCHAR(255) NOT NULL,
    full_name VARCHAR(100),
    avatar_path VARCHAR(255),
    is_active BOOLEAN DEFAULT 1,
    last_login_at DATETIME,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- è§’è‰²è¡¨
CREATE TABLE IF NOT EXISTS roles (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name VARCHAR(50) UNIQUE NOT NULL,
    description TEXT,
    permissions TEXT,
    is_system BOOLEAN DEFAULT 0,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- æ–‡æ¡£è¡¨
CREATE TABLE IF NOT EXISTS documents (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    title VARCHAR(255) NOT NULL,
    description TEXT,
    file_name VARCHAR(255) NOT NULL,
    file_path VARCHAR(500) NOT NULL,
    file_size INTEGER NOT NULL,
    mime_type VARCHAR(100),
    file_hash VARCHAR(64),
    thumbnail_path VARCHAR(255),
    download_count INTEGER DEFAULT 0,
    view_count INTEGER DEFAULT 0,
    is_public BOOLEAN DEFAULT 0,
    status VARCHAR(20) DEFAULT 'active',
    created_by INTEGER NOT NULL,
    updated_by INTEGER,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (created_by) REFERENCES users(id)
);

-- æ ‡ç­¾è¡¨
CREATE TABLE IF NOT EXISTS tags (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name VARCHAR(50) UNIQUE NOT NULL,
    color VARCHAR(7) DEFAULT '#1890ff',
    description TEXT,
    parent_id INTEGER,
    usage_count INTEGER DEFAULT 0,
    created_by INTEGER NOT NULL,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (parent_id) REFERENCES tags(id),
    FOREIGN KEY (created_by) REFERENCES users(id)
);

-- æ’å…¥é»˜è®¤è§’è‰²
INSERT OR IGNORE INTO roles (name, description, permissions, is_system) VALUES
('admin', 'ç³»ç»Ÿç®¡ç†å‘˜', '["all"]', 1),
('editor', 'ç¼–è¾‘è€…', '["read", "write", "upload", "tag"]', 1),
('viewer', 'æŸ¥çœ‹è€…', '["read"]', 1);
`;

// æ‰§è¡ŒSQL
db.exec(createTables, (err) => {
  if (err) {
    console.error('âŒ æ•°æ®åº“åˆå§‹åŒ–å¤±è´¥:', err.message);
    process.exit(1);
  } else {
    console.log('âœ… æ•°æ®åº“åˆå§‹åŒ–æˆåŠŸ');
    console.log('ğŸ“ æ•°æ®åº“ä½ç½®:', dbPath);
  }
  
  db.close((err) => {
    if (err) {
      console.error('âŒ å…³é—­æ•°æ®åº“è¿æ¥å¤±è´¥:', err.message);
    }
  });
});
EOF

# åˆ›å»ºå¿«é€Ÿå¯åŠ¨è„šæœ¬
cat > scripts/start-dev.sh << 'EOF'
#!/bin/bash

echo "ğŸš€ å¯åŠ¨å›¢é˜ŸçŸ¥è¯†åº“ç®¡ç†å·¥å…·å¼€å‘ç¯å¢ƒ..."

# æ£€æŸ¥ Node.js
if ! command -v node &> /dev/null; then
    echo "âŒ Node.js æœªå®‰è£…ï¼Œè¯·å…ˆå®‰è£… Node.js"
    exit 1
fi

# æ£€æŸ¥æ•°æ®åº“
if [ ! -f "database/knowledge_base_dev.db" ]; then
    echo "ğŸ“¦ åˆå§‹åŒ–æ•°æ®åº“..."
    node scripts/init-db.js
fi

# æ£€æŸ¥ä¾èµ–
if [ ! -d "node_modules" ]; then
    echo "ğŸ“¦ å®‰è£…æ ¹ç›®å½•ä¾èµ–..."
    npm install
fi

if [ ! -d "backend/node_modules" ]; then
    echo "ğŸ“¦ å®‰è£…åç«¯ä¾èµ–..."
    cd backend && npm install && cd ..
fi

if [ ! -d "frontend/node_modules" ]; then
    echo "ğŸ“¦ å®‰è£…å‰ç«¯ä¾èµ–..."
    cd frontend && npm install && cd ..
fi

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
echo "ğŸ‰ å¯åŠ¨å¼€å‘æœåŠ¡å™¨..."
npm run dev
EOF

# ç»™å¯åŠ¨è„šæœ¬æ‰§è¡Œæƒé™
chmod +x scripts/start-dev.sh
```

### 6.2 åˆ›å»ºåŸºç¡€æ–‡ä»¶å’Œç›®å½•
```bash
# åˆ›å»ºä¸Šä¼ ç›®å½•
mkdir -p uploads/{documents,thumbnails,avatars}

# åˆ›å»ºæ—¥å¿—ç›®å½•
mkdir -p logs

# åˆ›å»ºä¸´æ—¶æµ‹è¯•æ–‡ä»¶
echo "# æµ‹è¯•æ–‡æ¡£" > uploads/documents/test.md
echo "è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•æ–‡æ¡£ï¼Œç”¨äºéªŒè¯æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ã€‚" >> uploads/documents/test.md

# è®¾ç½®ç›®å½•æƒé™ (macOS)
chmod 755 uploads/
chmod 755 uploads/documents/
chmod 755 uploads/thumbnails/
chmod 755 uploads/avatars/
chmod 755 logs/
```
## 7. å¼€å‘ç¯å¢ƒå¯åŠ¨å’ŒéªŒè¯

### 7.1 ä¸€é”®å¯åŠ¨å¼€å‘ç¯å¢ƒ
```bash
# æ–¹æ³•1: ä½¿ç”¨å¯åŠ¨è„šæœ¬ (æ¨è)
./scripts/start-dev.sh

# æ–¹æ³•2: æ‰‹åŠ¨å¯åŠ¨
# åˆå§‹åŒ–æ•°æ®åº“ (é¦–æ¬¡è¿è¡Œ)
node scripts/init-db.js

# å®‰è£…æ‰€æœ‰ä¾èµ– (é¦–æ¬¡è¿è¡Œ)
npm run install:all

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

### 7.2 åˆ†åˆ«å¯åŠ¨å‰åç«¯ (è°ƒè¯•ç”¨)
```bash
# ç»ˆç«¯1: å¯åŠ¨åç«¯æœåŠ¡
cd backend
npm run dev

# ç»ˆç«¯2: å¯åŠ¨å‰ç«¯æœåŠ¡  
cd frontend
npm run dev
```

### 7.3 éªŒè¯å¼€å‘ç¯å¢ƒ
è®¿é—®ä»¥ä¸‹åœ°å€éªŒè¯ç¯å¢ƒæ˜¯å¦æ­£å¸¸ï¼š

- **å‰ç«¯åº”ç”¨**: http://localhost:3000
- **åç«¯API**: http://localhost:8000/api/v1
- **APIæ–‡æ¡£**: http://localhost:8000/api-docs (å¦‚æœå¯ç”¨)

### 7.4 macOS ç‰¹å®šçš„éªŒè¯å‘½ä»¤
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
lsof -i :3000
lsof -i :8000

# æ£€æŸ¥è¿›ç¨‹
ps aux | grep node

# æ£€æŸ¥ç³»ç»Ÿèµ„æº
top -pid $(pgrep -f "node")

# æŸ¥çœ‹å¼€å‘æ—¥å¿—
tail -f logs/app.log

# æ£€æŸ¥æ•°æ®åº“æ–‡ä»¶
ls -la database/
sqlite3 database/knowledge_base_dev.db ".tables"
```

## 8. macOS å¼€å‘è°ƒè¯•æŠ€å·§

### 8.1 ä½¿ç”¨ macOS ç³»ç»Ÿç›‘æ§
```bash
# ç›‘æ§æ–‡ä»¶å˜åŒ–
fswatch -o . | xargs -n1 -I{} echo "æ–‡ä»¶å·²æ›´æ”¹"

# ç›‘æ§å†…å­˜ä½¿ç”¨
memory_pressure

# ç›‘æ§ç½‘ç»œè¿æ¥
netstat -an | grep LISTEN
```

### 8.2 VS Code è°ƒè¯•é…ç½® (macOS ä¼˜åŒ–)
åˆ›å»º `.vscode/launch.json`ï¼š
```json
{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "Debug Backend (macOS)",
      "type": "node",
      "request": "launch",
      "program": "${workspaceFolder}/backend/src/app.ts",
      "outFiles": ["${workspaceFolder}/backend/dist/**/*.js"],
      "runtimeArgs": ["-r", "ts-node/register"],
      "env": {
        "NODE_ENV": "development",
        "DB_PATH": "/Users/weichen/Documents/testClass/database/knowledge_base_dev.db"
      },
      "cwd": "${workspaceFolder}/backend",
      "console": "integratedTerminal",
      "sourceMaps": true,
      "envFile": "${workspaceFolder}/backend/.env.development"
    },
    {
      "name": "Debug Frontend (macOS)",
      "type": "node",
      "request": "launch",
      "cwd": "${workspaceFolder}/frontend",
      "runtimeExecutable": "npm",
      "runtimeArgs": ["run", "dev"],
      "console": "integratedTerminal",
      "env": {
        "VITE_API_BASE_URL": "http://localhost:8000/api/v1"
      }
    }
  ]
}
```

### 8.3 ç»ˆç«¯é…ç½®ä¼˜åŒ–
```bash
# å¦‚æœä½¿ç”¨ zsh (macOS é»˜è®¤)
echo 'export NODE_ENV=development' >> ~/.zshrc
echo 'export PATH="$PATH:/usr/local/bin"' >> ~/.zshrc
echo 'alias kb-dev="cd ~/Documents/testClass && ./scripts/start-dev.sh"' >> ~/.zshrc

# é‡æ–°åŠ è½½é…ç½®
source ~/.zshrc
```

## 9. å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### 9.1 macOS æƒé™é—®é¢˜
```bash
# å¦‚æœé‡åˆ°æƒé™é”™è¯¯
sudo xcode-select --reset
sudo xcode-select --install

# ä¿®å¤ npm æƒé™é—®é¢˜
sudo chown -R $(whoami) $(npm config get prefix)/{lib/node_modules,bin,share}

# æˆ–è€…è®¾ç½® npm å…¨å±€ç›®å½•
mkdir ~/.npm-global
npm config set prefix '~/.npm-global'
echo 'export PATH=~/.npm-global/bin:$PATH' >> ~/.zshrc
```

### 9.2 ç«¯å£è¢«å ç”¨
```bash
# æŸ¥çœ‹ç«¯å£å ç”¨
sudo lsof -i :3000
sudo lsof -i :8000

# æ€æ­»å ç”¨è¿›ç¨‹
kill -9 <PID>

# æˆ–è€…ä½¿ç”¨ä¸åŒç«¯å£
PORT=3001 npm run dev:frontend
PORT=8001 npm run dev:backend
```

### 9.3 Node.js ç‰ˆæœ¬é—®é¢˜
```bash
# å¦‚æœä½¿ç”¨ nvm åˆ‡æ¢ç‰ˆæœ¬
nvm use 18
nvm alias default 18

# éªŒè¯ç‰ˆæœ¬
node --version
npm --version
```

### 9.4 SQLite é—®é¢˜
```bash
# æ£€æŸ¥ SQLite æ˜¯å¦å¯ç”¨
sqlite3 --version

# å¦‚æœæ²¡æœ‰å®‰è£… SQLite
brew install sqlite

# é‡æ–°ç¼–è¯‘ sqlite3 æ¨¡å— (å¦‚æœéœ€è¦)
cd backend
npm rebuild sqlite3
```

### 9.5 macOS Monterey/Big Sur ç‰¹å®šé—®é¢˜
```bash
# å¦‚æœé‡åˆ° Python æ„å»ºé”™è¯¯
export PYTHON=$(which python3)
npm config set python $(which python3)

# å¦‚æœé‡åˆ° Node Sass é—®é¢˜
npm rebuild node-sass

# æ¸…ç† npm ç¼“å­˜
npm cache clean --force
```

## 10. æ€§èƒ½ä¼˜åŒ–å»ºè®®

### 10.1 macOS ç³»ç»Ÿä¼˜åŒ–
```bash
# å…³é—­ä¸å¿…è¦çš„ç³»ç»ŸæœåŠ¡
sudo launchctl unload -w /System/Library/LaunchDaemons/com.apple.metadata.mds.plist

# å¢åŠ æ–‡ä»¶ç›‘æ§é™åˆ¶
echo kern.maxfiles=65536 | sudo tee -a /etc/sysctl.conf
echo kern.maxfilesperproc=65536 | sudo tee -a /etc/sysctl.conf

# é‡å¯åç”Ÿæ•ˆï¼Œæˆ–ä¸´æ—¶è®¾ç½®
sudo sysctl -w kern.maxfiles=65536
sudo sysctl -w kern.maxfilesperproc=65536
```

### 10.2 å¼€å‘å·¥å…·ä¼˜åŒ–
```bash
# VS Code è®¾ç½®ä¼˜åŒ–
echo '{
  "typescript.disableAutomaticTypeAcquisition": true,
  "search.exclude": {
    "**/node_modules": true,
    "**/.git": true,
    "**/dist": true,
    "**/.DS_Store": true
  },
  "files.watcherExclude": {
    "**/node_modules/**": true,
    "**/.git/**": true,
    "**/dist/**": true
  }
}' > .vscode/settings.json
```

## 11. å¤‡ä»½å’Œæ¢å¤

### 11.1 å¼€å‘ç¯å¢ƒå¤‡ä»½
```bash
# åˆ›å»ºå¤‡ä»½è„šæœ¬
cat > scripts/backup-dev.sh << 'EOF'
#!/bin/bash
BACKUP_DIR="$HOME/Documents/testClass-backup-$(date +%Y%m%d)"
mkdir -p "$BACKUP_DIR"

# å¤‡ä»½å…³é”®æ–‡ä»¶
cp -r . "$BACKUP_DIR/"

# æ’é™¤ä¸å¿…è¦çš„æ–‡ä»¶
rm -rf "$BACKUP_DIR/node_modules"
rm -rf "$BACKUP_DIR/backend/node_modules"
rm -rf "$BACKUP_DIR/frontend/node_modules"
rm -rf "$BACKUP_DIR/dist"
rm -rf "$BACKUP_DIR/logs"

echo "âœ… å¼€å‘ç¯å¢ƒå·²å¤‡ä»½åˆ°: $BACKUP_DIR"
EOF

chmod +x scripts/backup-dev.sh
```

### 11.2 å¿«é€Ÿæ¢å¤ç¯å¢ƒ
```bash
# åˆ›å»ºæ¢å¤è„šæœ¬
cat > scripts/restore-dev.sh << 'EOF'
#!/bin/bash
echo "ğŸ”„ æ¢å¤å¼€å‘ç¯å¢ƒ..."

# æ¸…ç†ç°æœ‰ç¯å¢ƒ
rm -rf node_modules backend/node_modules frontend/node_modules
rm -rf backend/dist frontend/dist

# é‡æ–°å®‰è£…ä¾èµ–
npm run install:all

# é‡æ–°åˆå§‹åŒ–æ•°æ®åº“
node scripts/init-db.js

echo "âœ… å¼€å‘ç¯å¢ƒæ¢å¤å®Œæˆ"
EOF

chmod +x scripts/restore-dev.sh
```

## 12. æ€»ç»“

ç»è¿‡ä»¥ä¸Šé…ç½®ï¼Œä½ çš„ macOS 11.7.10 å¼€å‘ç¯å¢ƒå·²ç»å®Œå…¨å‡†å¤‡å°±ç»ªã€‚ä¸»è¦åŒ…æ‹¬ï¼š

### âœ… å·²å®Œæˆé…ç½®
1. **åŸºç¡€å·¥å…·**: Xcode Command Line Tools, Homebrew, Node.js, Git
2. **å¼€å‘ç¯å¢ƒ**: VS Code + æ‰©å±•ï¼Œç»ˆç«¯é…ç½®
3. **é¡¹ç›®ç»“æ„**: å®Œæ•´çš„å‰åç«¯é¡¹ç›®éª¨æ¶
4. **é…ç½®æ–‡ä»¶**: ç¯å¢ƒå˜é‡ã€TypeScriptã€ESLintã€Prettier
5. **æ•°æ®åº“**: SQLite åˆå§‹åŒ–è„šæœ¬
6. **å¯åŠ¨è„šæœ¬**: ä¸€é”®å¯åŠ¨å¼€å‘ç¯å¢ƒ

### ğŸš€ å¿«é€Ÿå¼€å§‹å‘½ä»¤
```bash
# ä¸€é”®å¯åŠ¨å¼€å‘ç¯å¢ƒ
./scripts/start-dev.sh

# æˆ–è€…åˆ†æ­¥æ“ä½œ
node scripts/init-db.js
npm run install:all  
npm run dev
```

### ğŸ“ é¡¹ç›®ç›®å½•ç»“æ„
```
~/Documents/testClass/
â”œâ”€â”€ frontend/          # React å‰ç«¯
â”œâ”€â”€ backend/           # Node.js åç«¯  
â”œâ”€â”€ database/          # SQLite æ•°æ®åº“
â”œâ”€â”€ uploads/           # æ–‡ä»¶ä¸Šä¼ ç›®å½•
â”œâ”€â”€ scripts/           # å¼€å‘è„šæœ¬
â”œâ”€â”€ docs/             # é¡¹ç›®æ–‡æ¡£
â””â”€â”€ logs/             # æ—¥å¿—æ–‡ä»¶
```

ç°åœ¨å¯ä»¥å¼€å§‹ä½ çš„å›¢é˜ŸçŸ¥è¯†åº“ç®¡ç†å·¥å…·å¼€å‘ä¹‹æ—…äº†ï¼
```typescript
import { Database } from 'sqlite3';
import path from 'path';
import fs from 'fs';

const DB_PATH = path.join(__dirname, '../../database/knowledge_base_dev.db');

// ç¡®ä¿æ•°æ®åº“ç›®å½•å­˜åœ¨
const dbDir = path.dirname(DB_PATH);
if (!fs.existsSync(dbDir)) {
  fs.mkdirSync(dbDir, { recursive: true });
}

const db = new Database(DB_PATH);

// æ‰§è¡Œåˆå§‹åŒ– SQL
const initSql = fs.readFileSync(
  path.join(__dirname, '../sql/init.sql'),
  'utf8'
);

db.exec(initSql, (err) => {
  if (err) {
    console.error('Database initialization failed:', err);
  } else {
    console.log('Database initialized successfully');
  }
  db.close();
});
```

### 6.3 æ·»åŠ ç¤ºä¾‹æ•°æ®
åˆ›å»º `backend/scripts/seed-data.ts`ï¼š
```typescript
// ç¤ºä¾‹æ•°æ®æ’å…¥è„šæœ¬
import { Database } from 'sqlite3';
import bcrypt from 'bcryptjs';

const db = new Database('../database/knowledge_base_dev.db');

async function seedData() {
  // åˆ›å»ºé»˜è®¤ç®¡ç†å‘˜ç”¨æˆ·
  const hashedPassword = await bcrypt.hash('admin123', 10);
  
  db.run(`
    INSERT INTO users (username, email, password_hash, full_name, is_active)
    VALUES (?, ?, ?, ?, ?)
  `, ['admin', 'admin@example.com', hashedPassword, 'ç³»ç»Ÿç®¡ç†å‘˜', 1]);

  // æ’å…¥ç¤ºä¾‹æ ‡ç­¾
  db.run(`
    INSERT INTO tags (name, color, description, created_by)
    VALUES 
    ('æŠ€æœ¯æ–‡æ¡£', '#1890ff', 'æŠ€æœ¯ç›¸å…³æ–‡æ¡£', 1),
    ('äº§å“éœ€æ±‚', '#52c41a', 'äº§å“éœ€æ±‚æ–‡æ¡£', 1),
    ('ä¼šè®®çºªè¦', '#faad14', 'ä¼šè®®è®°å½•', 1)
  `);

  console.log('ç¤ºä¾‹æ•°æ®æ’å…¥å®Œæˆ');
}

seedData();
```

## 7. å¼€å‘æœåŠ¡å™¨å¯åŠ¨

### 7.1 å¯åŠ¨è„šæœ¬é…ç½®

#### æ ¹ç›®å½• package.json
```json
{
  "scripts": {
    "dev": "concurrently \"npm run dev:backend\" \"npm run dev:frontend\"",
    "dev:backend": "cd backend && npm run dev",
    "dev:frontend": "cd frontend && npm run dev",
    "build": "npm run build:backend && npm run build:frontend",
    "build:backend": "cd backend && npm run build",
    "build:frontend": "cd frontend && npm run build",
    "lint": "npm run lint:backend && npm run lint:frontend",
    "lint:backend": "cd backend && npm run lint",
    "lint:frontend": "cd frontend && npm run lint",
    "test": "npm run test:backend && npm run test:frontend",
    "test:backend": "cd backend && npm test",
    "test:frontend": "cd frontend && npm test"
  },
  "devDependencies": {
    "concurrently": "^7.6.0",
    "husky": "^8.0.0",
    "lint-staged": "^13.0.0"
  }
}
```

#### åç«¯ package.json scripts
```json
{
  "scripts": {
    "dev": "nodemon --exec ts-node src/app.ts",
    "build": "tsc",
    "start": "node dist/app.js",
    "lint": "eslint src/**/*.ts",
    "lint:fix": "eslint src/**/*.ts --fix",
    "format": "prettier --write src/**/*.ts",
    "test": "jest",
    "test:watch": "jest --watch",
    "db:init": "ts-node scripts/init-db.ts",
    "db:seed": "ts-node scripts/seed-data.ts",
    "db:reset": "npm run db:init && npm run db:seed"
  }
}
```

#### å‰ç«¯ package.json scripts
```json
{
  "scripts": {
    "dev": "vite",
    "build": "tsc && vite build",
    "preview": "vite preview",
    "lint": "eslint src --ext ts,tsx --report-unused-disable-directives --max-warnings 0",
    "lint:fix": "eslint src --ext ts,tsx --fix",
    "format": "prettier --write src/**/*.{ts,tsx}",
    "test": "vitest",
    "test:ui": "vitest --ui"
  }
}
```

### 7.2 å¯åŠ¨å¼€å‘ç¯å¢ƒ

#### ä¸€é”®å¯åŠ¨
```bash
# å®‰è£…æ‰€æœ‰ä¾èµ–
npm run install:all

# åˆå§‹åŒ–æ•°æ®åº“
npm run db:init

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

#### åˆ†åˆ«å¯åŠ¨
```bash
# ç»ˆç«¯ 1: å¯åŠ¨åç«¯
cd backend
npm run dev

# ç»ˆç«¯ 2: å¯åŠ¨å‰ç«¯
cd frontend
npm run dev
```

### 7.3 éªŒè¯ç¯å¢ƒ
è®¿é—®ä»¥ä¸‹åœ°å€éªŒè¯ç¯å¢ƒï¼š
- å‰ç«¯: http://localhost:3000
- åç«¯ API: http://localhost:8000/api/v1
- API æ–‡æ¡£: http://localhost:8000/api-docs (å¦‚æœå¯ç”¨)

## 8. å¼€å‘å·¥ä½œæµ

### 8.1 Git å·¥ä½œæµ
```bash
# 1. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/new-feature

# 2. å¼€å‘å’Œæäº¤
git add .
git commit -m "feat: add new feature"

# 3. æ¨é€åˆ°è¿œç¨‹
git push origin feature/new-feature

# 4. åˆ›å»º Pull Request

# 5. åˆå¹¶ååˆ é™¤åˆ†æ”¯
git checkout main
git pull origin main
git branch -d feature/new-feature
```

### 8.2 æäº¤è§„èŒƒ
ä½¿ç”¨ Conventional Commits è§„èŒƒï¼š
```
feat: æ–°åŠŸèƒ½
fix: Bug ä¿®å¤
docs: æ–‡æ¡£æ›´æ–°
style: ä»£ç æ ¼å¼ä¿®æ”¹
refactor: ä»£ç é‡æ„
test: æµ‹è¯•ç›¸å…³
chore: æ„å»ºå·¥å…·æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨
```

### 8.3 è°ƒè¯•æŠ€å·§

#### åç«¯è°ƒè¯•
```typescript
// ä½¿ç”¨ VS Code è°ƒè¯•å™¨
// æˆ–è€…ä½¿ç”¨ console.log
console.log('Debug info:', { variable });

// ä½¿ç”¨ debug æ¨¡å—
import debug from 'debug';
const log = debug('app:controller');
log('User created:', user);
```

#### å‰ç«¯è°ƒè¯•
```typescript
// React DevTools
// Chrome DevTools
// æˆ–è€…ä½¿ç”¨ console
console.log('Component state:', state);

// ä½¿ç”¨ debugger æ–­ç‚¹
debugger;
```

## 9. æµ‹è¯•ç¯å¢ƒé…ç½®

### 9.1 åç«¯æµ‹è¯•é…ç½®
åˆ›å»º `backend/jest.config.js`ï¼š
```javascript
module.exports = {
  preset: 'ts-jest',
  testEnvironment: 'node',
  roots: ['<rootDir>/src'],
  testMatch: ['**/__tests__/**/*.ts', '**/?(*.)+(spec|test).ts'],
  collectCoverageFrom: [
    'src/**/*.ts',
    '!src/**/*.d.ts',
  ],
};
```

### 9.2 å‰ç«¯æµ‹è¯•é…ç½®
åˆ›å»º `frontend/vitest.config.ts`ï¼š
```typescript
import { defineConfig } from 'vitest/config';
import react from '@vitejs/plugin-react';

export default defineConfig({
  plugins: [react()],
  test: {
    environment: 'jsdom',
    setupFiles: ['./src/test/setup.ts'],
  },
});
```

## 10. æ€§èƒ½ç›‘æ§

### 10.1 å¼€å‘ç¯å¢ƒæ€§èƒ½ç›‘æ§
```bash
# åˆ†æåŒ…å¤§å°
npm run build:analyze

# æ€§èƒ½æµ‹è¯•
npm run perf:test
```

### 10.2 çƒ­é‡è½½é…ç½®
ç¡®ä¿å‰åç«¯éƒ½æ”¯æŒçƒ­é‡è½½ï¼š
- å‰ç«¯: Vite é»˜è®¤æ”¯æŒ
- åç«¯: nodemon é…ç½®

## 11. å¸¸è§é—®é¢˜è§£å†³

### 11.1 ç«¯å£å†²çª
```bash
# æŸ¥çœ‹ç«¯å£å ç”¨
netstat -ano | findstr :3000
lsof -ti:3000

# æ€æ­»è¿›ç¨‹
kill -9 <PID>
```

### 11.2 ä¾èµ–å®‰è£…å¤±è´¥
```bash
# æ¸…ç† npm ç¼“å­˜
npm cache clean --force

# åˆ é™¤ node_modules é‡æ–°å®‰è£…
rm -rf node_modules package-lock.json
npm install
```

### 11.3 TypeScript ç¼–è¯‘é”™è¯¯
```bash
# æ£€æŸ¥ TypeScript é…ç½®
npx tsc --noEmit

# é‡å¯ TypeScript æœåŠ¡
# VS Code: Ctrl+Shift+P -> TypeScript: Restart TS Server
```

## 12. å¼€å‘è§„èŒƒ

### 12.1 ä»£ç è§„èŒƒ
- ä½¿ç”¨ TypeScript ä¸¥æ ¼æ¨¡å¼
- éµå¾ª ESLint è§„åˆ™
- ç»Ÿä¸€ä½¿ç”¨ Prettier æ ¼å¼åŒ–
- ç¼–å†™æœ‰æ„ä¹‰çš„æ³¨é‡Š

### 12.2 å‘½åè§„èŒƒ
- æ–‡ä»¶å: kebab-case
- å˜é‡å: camelCase
- å¸¸é‡å: UPPER_SNAKE_CASE
- ç»„ä»¶å: PascalCase

### 12.3 ç›®å½•è§„èŒƒ
```
src/
â”œâ”€â”€ components/    # å…¬å…±ç»„ä»¶
â”œâ”€â”€ pages/        # é¡µé¢ç»„ä»¶
â”œâ”€â”€ hooks/        # è‡ªå®šä¹‰ Hooks
â”œâ”€â”€ services/     # API æœåŠ¡
â”œâ”€â”€ utils/        # å·¥å…·å‡½æ•°
â”œâ”€â”€ types/        # ç±»å‹å®šä¹‰
â””â”€â”€ styles/       # æ ·å¼æ–‡ä»¶
```

## 13. å¼€å‘å·¥å…·æ¨è

### 13.1 æµè§ˆå™¨æ‰©å±•
- React DevTools
- Redux DevTools
- Axe DevTools (æ— éšœç¢æµ‹è¯•)

### 13.2 VS Code æ‰©å±•
- Thunder Client (API æµ‹è¯•)
- GitLens (Git å¢å¼º)
- Bracket Pair Colorizer
- Auto Import - ES6, TS, JSX, TSX

### 13.3 è¾…åŠ©å·¥å…·
- Postman (API æµ‹è¯•)
- Figma (è®¾è®¡ç¨¿æŸ¥çœ‹)
- Notion (æ–‡æ¡£ç®¡ç†)

## 14. æ›´æ–°å’Œç»´æŠ¤

### 14.1 ä¾èµ–æ›´æ–°
```bash
# æ£€æŸ¥è¿‡æœŸä¾èµ–
npm outdated

# æ›´æ–°ä¾èµ–
npm update

# æ£€æŸ¥å®‰å…¨æ¼æ´
npm audit
npm audit fix
```

### 14.2 å¼€å‘ç¯å¢ƒé‡ç½®
```bash
# å®Œå…¨é‡ç½®å¼€å‘ç¯å¢ƒ
./scripts/reset-dev-env.sh
```

## 15. æ”¯æŒå’Œåé¦ˆ

### 15.1 æŠ€æœ¯æ”¯æŒ
- é¡¹ç›®æ–‡æ¡£: `/docs`
- å¼€å‘æŒ‡å—: æœ¬æ–‡æ¡£
- API æ–‡æ¡£: http://localhost:8000/api-docs

### 15.2 é—®é¢˜åé¦ˆ
- GitHub Issues
- å¼€å‘å›¢é˜Ÿé‚®ä»¶
- æŠ€æœ¯äº¤æµç¾¤