# å›¢é˜ŸçŸ¥è¯†åº“ç®¡ç†å·¥å…· - ç®€åŒ–å¼€å‘è®¡åˆ’

## é¡¹ç›®èƒŒæ™¯
æ ¹æ®`é¡¹ç›®é¢˜ç›®.md`è¦æ±‚ï¼Œå¼€å‘ä¸€ä¸ªç®€å•çš„webåº”ç”¨ï¼Œå®ç°ï¼š
- **æ ¸å¿ƒåŠŸèƒ½**: ä¸Šä¼ ã€æœç´¢å’Œæ ‡ç­¾åŒ–æ–‡æ¡£
- **åä½œåŠŸèƒ½**: å›¢é˜Ÿå…±äº«æ–‡æ¡£å’ŒçŸ¥è¯†
- **ç®¡ç†åŠŸèƒ½**: ç”¨æˆ·ç®¡ç†å’Œæµè§ˆæƒé™åˆ†é…  
- **æŠ€æœ¯æ¶æ„**: ä¸‰å±‚æ¶æ„ï¼ˆWebApp + WebService + SQLiteï¼‰

## é¡¹ç›®ç°çŠ¶
- âœ… é¡¹ç›®ç»“æ„å·²å»ºç«‹ï¼ˆProject/ç›®å½•å®Œæ•´åˆ›å»ºï¼‰
- âœ… å®Œæ•´çš„æŠ€æœ¯æ–‡æ¡£å·²å®Œæˆï¼ˆéœ€æ±‚åˆ†æã€ç³»ç»Ÿè®¾è®¡ã€æ•°æ®åº“è®¾è®¡ã€APIè®¾è®¡ï¼‰
- âœ… å‰ç«¯ä»£ç ç›®å½•ç»“æ„å·²å»ºç«‹ï¼ŒåŒ…å«æ‰€æœ‰é…ç½®æ–‡ä»¶
- âœ… åç«¯ä»£ç ç›®å½•ç»“æ„å·²å»ºç«‹ï¼ŒåŒ…å«æ‰€æœ‰é…ç½®æ–‡ä»¶
- âœ… SQLiteæ•°æ®åº“å·²åˆ›å»ºå¹¶åˆå§‹åŒ–ï¼ˆknowledge_base.db 116KBï¼‰
- âœ… å·¥ä½œç©ºé—´é…ç½®å®Œæˆï¼Œæ”¯æŒå¹¶è¡Œå¼€å‘
- âŒ ä¸šåŠ¡é€»è¾‘ä»£ç å¾…å®ç°

## å¼€å‘é˜¶æ®µ (å…±18ä¸ªæ ¸å¿ƒä»»åŠ¡)

### ğŸ—ï¸ é˜¶æ®µ1: åŸºç¡€ç¯å¢ƒæ­å»º (ä»»åŠ¡1-5) âœ… 75% å®Œæˆ

**ç›®æ ‡**: åŸºäºç°æœ‰è®¾è®¡æ–‡æ¡£ï¼Œå¿«é€Ÿæ­å»ºå¯è¿è¡Œçš„ä¸‰å±‚æ¶æ„

1. **å®ç°åç«¯åŸºç¡€æ¡†æ¶**
   - **æ–‡ä»¶ä½ç½®**: `Project/backend/src/app.ts`
   - **ExpressæœåŠ¡å™¨é…ç½®**:
     ```typescript
     // ç«¯å£é…ç½®: 8000 (æ¥è‡ªå¼€å‘ç¯å¢ƒé…ç½®æ–‡æ¡£)
     // ä¸­é—´ä»¶: express.json(), cors(), helmet(), morgan('dev')
     // è·¯ç”±å‰ç¼€: '/api/v1'
     ```
   - **ç»Ÿä¸€å“åº”æ ¼å¼** (`src/utils/response.ts`):
     ```typescript
     { code: number, message: string, data?: any, timestamp: string }
     ```
   - **å…¨å±€é”™è¯¯å¤„ç†ä¸­é—´ä»¶** (`src/middleware/errorHandler.ts`)
   - **ç¯å¢ƒå˜é‡é…ç½®** (`.env.development`):
     ```bash
     NODE_ENV=development
     PORT=8000
     JWT_SECRET=your-jwt-secret-key
     DB_PATH=./database/knowledge_base_dev.db
     UPLOAD_DIR=./uploads
     ```

2. **âœ… SQLiteæ•°æ®åº“å·²å®Œæˆ**
   - **æ•°æ®åº“æ–‡ä»¶**: `Project/database/knowledge_base.db` (116KB)
   - **è¡¨ç»“æ„å·²åˆ›å»º**ï¼ˆåŸºäºæ•°æ®åº“è®¾è®¡æ–‡æ¡£ï¼‰:
     ```sql
     -- 7ä¸ªæ ¸å¿ƒè¡¨: users, roles, documents, tags, document_tags, permissions, system_configs
     -- å¤–é”®çº¦æŸå’Œç´¢å¼•å·²å¯ç”¨
     -- é¢„è®¾æ•°æ®å·²æ’å…¥: 3ä¸ªè§’è‰²ï¼Œç®¡ç†å‘˜ç”¨æˆ·(admin/admin123)ï¼Œ8ä¸ªåŸºç¡€æ ‡ç­¾
     -- WALæ¨¡å¼å·²å¯ç”¨ï¼Œæ€§èƒ½ä¼˜åŒ–å®Œæˆ
     ```
   - **æ•°æ®åº“è¿æ¥ç±»**: `src/database/connection.ts`
     ```typescript
     // å•ä¾‹æ¨¡å¼æ•°æ®åº“è¿æ¥ç®¡ç†
     // å¥åº·æ£€æŸ¥å’Œä¼˜åŒ–æ–¹æ³•
     // äº‹åŠ¡æ”¯æŒå’Œå¤‡ä»½åŠŸèƒ½
     ```
   - **åˆå§‹åŒ–è„šæœ¬**: `src/database/schema.sql` + `src/database/test.js`
   - **NPMå‘½ä»¤**: `npm run db:init`, `npm run db:test`, `npm run db:reset`

3. **âœ… å‰ç«¯åŸºç¡€æ¶æ„å·²å»ºç«‹**
   - **é¡¹ç›®ç»“æ„**: `Project/frontend/src/` (å·²åˆ›å»ºå®Œæ•´ç›®å½•ç»“æ„)
     ```
     components/common/     # é€šç”¨ç»„ä»¶ç›®å½•å·²åˆ›å»º
     components/layout/     # å¸ƒå±€ç»„ä»¶ç›®å½•å·²åˆ›å»º
     pages/                # é¡µé¢ç»„ä»¶ç›®å½•å·²åˆ›å»º
     contexts/             # Reactä¸Šä¸‹æ–‡ç›®å½•å·²åˆ›å»º
     hooks/                # è‡ªå®šä¹‰Hookç›®å½•å·²åˆ›å»º
     services/api/         # APIæœåŠ¡ç›®å½•å·²åˆ›å»º
     types/                # TypeScriptç±»å‹å®šä¹‰ç›®å½•å·²åˆ›å»º
     utils/                # å·¥å…·å‡½æ•°ç›®å½•å·²åˆ›å»º
     ```
   - **è·¯ç”±é…ç½®**: `src/router/index.tsx`
     ```typescript
     // React Router v6, ä¿æŠ¤è·¯ç”±PrivateRouteç»„ä»¶
     // è·¯ç”±: /login, /register, /dashboard, /documents, /tags, /users
     ```
   - **âœ… Viteé…ç½®**: `vite.config.ts` (å·²é…ç½®å¼€å‘æœåŠ¡å™¨ç«¯å£3000)
   - **âœ… AxiosåŸºç¡€**: éœ€è¦å®ç° `src/services/api/request.ts`
     ```typescript
     // baseURL: http://localhost:8000/api/v1
     // è¯·æ±‚æ‹¦æˆªå™¨: æ·»åŠ JWT Token
     // å“åº”æ‹¦æˆªå™¨: ç»Ÿä¸€é”™è¯¯å¤„ç†ï¼ŒTokenè¿‡æœŸè‡ªåŠ¨åˆ·æ–°
     ```
   - **âœ… Ant Designé…ç½®**: `package.json`ä¸­å·²åŒ…å«ä¾èµ–

4. **å®ç°JWTè®¤è¯ä½“ç³»**
   - **åç«¯è®¤è¯API**ï¼ˆåŸºäºAPIæ¥å£è®¾è®¡æ–‡æ¡£ï¼‰:
     ```typescript
     // POST /api/v1/auth/register  - ç”¨æˆ·æ³¨å†Œ
     // POST /api/v1/auth/login     - ç”¨æˆ·ç™»å½•
     // POST /api/v1/auth/refresh   - Tokenåˆ·æ–°
     // POST /api/v1/auth/logout    - ç”¨æˆ·ç™»å‡º
     ```
   - **JWTå·¥å…·ç±»**: `src/utils/jwt.ts`
     ```typescript
     // JWT_SECRETé…ç½®ï¼Œè¿‡æœŸæ—¶é—´2å°æ—¶
     // æ”¯æŒTokenåˆ·æ–°æœºåˆ¶
     ```
   - **è®¤è¯ä¸­é—´ä»¶**: `src/middleware/auth.ts`
     ```typescript
     // éªŒè¯Bearer Tokenï¼Œè§£æç”¨æˆ·ä¿¡æ¯
     // æƒé™éªŒè¯è£…é¥°å™¨
     ```
   - **å‰ç«¯è®¤è¯ç®¡ç†**:
     ```typescript
     // AuthContext: å…¨å±€è®¤è¯çŠ¶æ€ç®¡ç†
     // useAuth Hook: ç™»å½•ã€ç™»å‡ºã€è·å–ç”¨æˆ·ä¿¡æ¯
     // Tokenå­˜å‚¨: localStorageï¼Œè‡ªåŠ¨åˆ·æ–°
     ```
   - **ç™»å½•/æ³¨å†Œé¡µé¢**: `src/pages/auth/`
     ```typescript
     // LoginPage.tsx: ç”¨æˆ·å/é‚®ç®±ç™»å½•ï¼Œè¡¨å•éªŒè¯
     // RegisterPage.tsx: ç”¨æˆ·æ³¨å†Œï¼Œé‚®ç®±éªŒè¯
     // Ant Design Formç»„ä»¶ï¼Œå“åº”å¼å¸ƒå±€
     ```

5. **é…ç½®å¼€å‘ç¯å¢ƒ**
   - **âœ… å·¥ä½œç©ºé—´é…ç½®**: `Project/package.json`
     ```json
     {
       "scripts": {
         "dev": "concurrently \"npm run dev:backend\" \"npm run dev:frontend\"",
         "dev:backend": "cd backend && npm run dev",
         "dev:frontend": "cd frontend && npm run dev",
         "build": "npm run build:frontend && npm run build:backend",
         "db:init": "cd backend && npm run db:init",
         "db:test": "cd backend && npm run db:test",
         "db:reset": "cd backend && npm run db:reset"
       },
       "workspaces": ["frontend", "backend"]
     }
     ```
   - **âœ… ä¸€é”®å¯åŠ¨è„šæœ¬**: `Project/scripts/dev.sh` + `Project/scripts/build.sh`
     ```bash
     #!/bin/bash
     # æ£€æŸ¥ä¾èµ–å®‰è£…ï¼Œåˆå§‹åŒ–æ•°æ®åº“ï¼Œå¯åŠ¨å¼€å‘æœåŠ¡å™¨
     # å‰ç«¯: http://localhost:3000, åç«¯: http://localhost:8000
     # å¯æ‰§è¡Œæƒé™å·²è®¾ç½®
     ```
   - **âœ… ä»£ç è§„èŒƒé…ç½®**:
     ```typescript
     // ESLint: @typescript-eslint/recommended (å·²é…ç½®)
     // Prettier: ç»Ÿä¸€ä»£ç æ ¼å¼åŒ– (å·²é…ç½®)
     // TypeScript: ä¸¥æ ¼æ¨¡å¼é…ç½®
     // å‰åç«¯ç‹¬ç«‹é…ç½®æ–‡ä»¶å·²åˆ›å»º
     ```
   - **æµ‹è¯•ç¯å¢ƒ**: åŸºäºæµ‹è¯•è®¡åˆ’æ–‡æ¡£é…ç½®
     ```json
     // Jest + Vitestå•å…ƒæµ‹è¯•
     // React Testing Libraryç»„ä»¶æµ‹è¯•
     // Supertest APIæµ‹è¯•
     ```

### ğŸ“„ é˜¶æ®µ2: æ–‡æ¡£ç®¡ç†æ ¸å¿ƒåŠŸèƒ½ (ä»»åŠ¡6-11) â³ å¾…å¼€å‘

**ç›®æ ‡**: å®ç°é¢˜ç›®è¦æ±‚çš„æ–‡æ¡£ä¸Šä¼ ã€å­˜å‚¨å’Œç®¡ç†åŠŸèƒ½

**âœ… åŸºç¡€è®¾æ–½**: æ–‡ä»¶ä¸Šä¼ ç›®å½• (`backend/uploads/`) å·²åˆ›å»ºï¼Œmulterä¾èµ–å·²é…ç½®

6. **å®ç°æ–‡æ¡£ä¸Šä¼ API**
   - **APIå®ç°**: `POST /api/v1/documents`ï¼ˆåŸºäºAPIæ¥å£è®¾è®¡æ–‡æ¡£ï¼‰
   - **ä¸­é—´ä»¶é…ç½®**: `src/middleware/upload.ts`
     ```typescript
     // multeré…ç½®: dest='./uploads/documents/'
     // æ”¯æŒæ–‡ä»¶æ ¼å¼: PDF(.pdf), Word(.doc,.docx), Excel(.xls,.xlsx), 
     //               PowerPoint(.ppt,.pptx), æ–‡æœ¬(.txt), å›¾ç‰‡(.jpg,.png,.gif)
     // æ–‡ä»¶å¤§å°é™åˆ¶: 100MB (104857600 bytes)
     // æ–‡ä»¶åå¤„ç†: æ—¶é—´æˆ³ + éšæœºæ•° + åŸæ–‡ä»¶å
     ```
   - **æ–‡ä»¶å­˜å‚¨é€»è¾‘**: `src/services/fileService.ts`
     ```typescript
     // MD5å“ˆå¸Œé˜²é‡å¤ä¸Šä¼ 
     // æ–‡ä»¶ç±»å‹éªŒè¯å’Œå®‰å…¨æ£€æŸ¥
     // æ–‡ä»¶å…ƒæ•°æ®æå–(æ–‡ä»¶å¤§å°ã€MIMEç±»å‹)
     // æ•°æ®åº“è®°å½•å…¥documentsè¡¨
     ```
   - **è¯·æ±‚æ ¼å¼**: `multipart/form-data`
     ```typescript
     // å­—æ®µ: file(æ–‡ä»¶), title(æ ‡é¢˜), description(æè¿°), tags(æ ‡ç­¾IDæ•°ç»„)
     // å“åº”: {code: 201, message: 'ä¸Šä¼ æˆåŠŸ', data: {documentId, fileName, fileSize}}
     ```

7. **å®ç°æ–‡æ¡£CRUDæ¥å£**
   - **æ•°æ®è®¿é—®å±‚**: `src/dao/documentDao.ts`
     ```typescript
     // getDocuments(): åˆ—è¡¨æŸ¥è¯¢ï¼Œæ”¯æŒåˆ†é¡µ(page, pageSize)ã€æ’åº(sortBy, sortOrder)
     // getDocumentById(): æ–‡æ¡£è¯¦æƒ…ï¼ŒåŒ…å«æ ‡ç­¾ä¿¡æ¯å’Œåˆ›å»ºè€…ä¿¡æ¯
     // updateDocument(): æ›´æ–°æ–‡æ¡£ä¿¡æ¯(æ ‡é¢˜ã€æè¿°ã€å…¬å¼€çŠ¶æ€)
     // deleteDocument(): è½¯åˆ é™¤(status='deleted')
     // SQLä¼˜åŒ–: ç´¢å¼•ä½¿ç”¨ï¼ŒJOINæŸ¥è¯¢ç»Ÿè®¡
     ```
   - **æ–‡æ¡£APIæ¥å£**:
     ```typescript
     // GET /api/v1/documents?page=1&pageSize=20&sortBy=createdAt&sortOrder=desc
     // GET /api/v1/documents/{id} - æ–‡æ¡£è¯¦æƒ…æŸ¥çœ‹ï¼Œæµè§ˆæ¬¡æ•°+1
     // PUT /api/v1/documents/{id} - æ›´æ–°æ–‡æ¡£ä¿¡æ¯(ä»…åˆ›å»ºè€…æˆ–admin)
     // DELETE /api/v1/documents/{id} - åˆ é™¤æ–‡æ¡£(ä»…åˆ›å»ºè€…æˆ–admin)
     ```
   - **æƒé™éªŒè¯ä¸­é—´ä»¶**: `src/middleware/permission.ts`
     ```typescript
     // checkDocumentOwner: éªŒè¯æ–‡æ¡£æ‰€æœ‰è€…æˆ–adminè§’è‰²
     // checkDocumentAccess: éªŒè¯æ–‡æ¡£è®¿é—®æƒé™(is_publicæˆ–åˆ›å»ºè€…)
     ```
   - **ç»Ÿè®¡åŠŸèƒ½**:
     ```typescript
     // æµè§ˆæ¬¡æ•°(view_count): è·å–æ–‡æ¡£è¯¦æƒ…æ—¶+1
     // ä¸‹è½½æ¬¡æ•°(download_count): æ–‡ä»¶ä¸‹è½½æ—¶+1
     ```

8. **åˆ›å»ºæ–‡æ¡£ç®¡ç†å‰ç«¯é¡µé¢**
   - **æ–‡æ¡£åˆ—è¡¨é¡µé¢**: `src/pages/documents/DocumentList.tsx`
     ```typescript
     // Ant Design Tableç»„ä»¶ï¼Œåˆ—æ˜¾ç¤º: æ ‡é¢˜ã€æ–‡ä»¶ç±»å‹ã€å¤§å°ã€ä¸Šä¼ æ—¶é—´ã€æ ‡ç­¾ã€æ“ä½œ
     // æ’åºåŠŸèƒ½: æŒ‰æ—¶é—´ã€æ–‡ä»¶å¤§å°æ’åº
     // ç­›é€‰åŠŸèƒ½: æŒ‰æ–‡ä»¶ç±»å‹ã€åˆ›å»ºæ—¥æœŸç­›é€‰
     // åˆ†é¡µç»„ä»¶: é»˜è®¤20æ¡/é¡µï¼Œæ”¯æŒé¡µç è·³è½¬
     ```
   - **æ–‡æ¡£ä¸Šä¼ ç»„ä»¶**: `src/components/DocumentUpload.tsx`
     ```typescript
     // Ant Design Upload.Draggeræ‹–æ‹½ä¸Šä¼ 
     // ä¸Šä¼ è¿›åº¦æ˜¾ç¤ºå’ŒçŠ¶æ€æç¤º
     // æ–‡ä»¶é¢„è§ˆåŠŸèƒ½(å›¾ç‰‡ç±»å‹)
     // æ–‡ä»¶ä¿¡æ¯è¡¨å•: æ ‡é¢˜(å¿…å¡«)ã€æè¿°(å¯é€‰)ã€æ ‡ç­¾é€‰æ‹©ã€å…¬å¼€è®¾ç½®
     // ä¸Šä¼ æˆåŠŸåè·³è½¬åˆ°æ–‡æ¡£åˆ—è¡¨
     ```
   - **æ–‡æ¡£æ“ä½œç»„ä»¶**: `src/components/DocumentActions.tsx`
     ```typescript
     // æ“ä½œæŒ‰é’®ç»„: æŸ¥çœ‹ã€ç¼–è¾‘ã€ä¸‹è½½ã€åˆ é™¤
     // æƒé™æ§åˆ¶: ä»…åˆ›å»ºè€…å’Œadminå¯ç¼–è¾‘/åˆ é™¤
     // ç¡®è®¤å¯¹è¯æ¡†: åˆ é™¤æ“ä½œéœ€è¦äºŒæ¬¡ç¡®è®¤
     ```
   - **æ–‡æ¡£è¯¦æƒ…é¡µé¢**: `src/pages/documents/DocumentDetail.tsx`
     ```typescript
     // æ–‡æ¡£åŸºæœ¬ä¿¡æ¯å±•ç¤º: æ ‡é¢˜ã€æè¿°ã€æ–‡ä»¶ä¿¡æ¯ã€åˆ›å»ºè€…ã€åˆ›å»ºæ—¶é—´
     // æ ‡ç­¾åˆ—è¡¨å±•ç¤ºå’Œç¼–è¾‘åŠŸèƒ½
     // ç»Ÿè®¡ä¿¡æ¯: æµè§ˆæ¬¡æ•°ã€ä¸‹è½½æ¬¡æ•°
     // æ“ä½œæŒ‰é’®: ä¸‹è½½ã€ç¼–è¾‘ã€åˆ é™¤
     ```

9. **å®ç°æ–‡æ¡£ä¸‹è½½åŠŸèƒ½**
   - **ä¸‹è½½API**: `GET /api/v1/documents/{id}/download`
     ```typescript
     // æƒé™éªŒè¯: æ–‡æ¡£æ˜¯å¦å…¬å¼€æˆ–ç”¨æˆ·æœ‰æƒè®¿é—®
     // æ–‡ä»¶æµä¼ è¾“: res.download()æ–¹æ³•
     // Content-Dispositionè®¾ç½®åŸå§‹æ–‡ä»¶å
     // ä¸‹è½½è®¡æ•°: download_count + 1
     ```
   - **å‰ç«¯ä¸‹è½½åŠŸèƒ½**: `src/services/downloadService.ts`
     ```typescript
     // Axios responseType: 'blob'
     // ä¸‹è½½è¿›åº¦æ˜¾ç¤º(onDownloadProgress)
     // é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶
     // æ–‡ä»¶ä¿å­˜: URL.createObjectURL()
     ```
   - **ä¸‹è½½ç»„ä»¶**: `src/components/DownloadButton.tsx`
     ```typescript
     // LoadingçŠ¶æ€æ˜¾ç¤º
     // ä¸‹è½½è¿›åº¦æ¡
     // ä¸‹è½½å¤±è´¥æç¤ºå’Œé‡è¯•æŒ‰é’®
     ```

10. **å®ç°åŸºç¡€æƒé™ç³»ç»Ÿ**
    - **æƒé™é€»è¾‘è®¾è®¡**:
      ```typescript
      // æ–‡æ¡£æƒé™: åˆ›å»ºè€…æ‹¥æœ‰å…¨æƒé™(æŸ¥çœ‹ã€ç¼–è¾‘ã€åˆ é™¤)
      // å…¬å¼€æ–‡æ¡£: is_public=1ï¼Œä»»ä½•ç”¨æˆ·å¯æŸ¥çœ‹å’Œä¸‹è½½
      // ç§æœ‰æ–‡æ¡£: is_public=0ï¼Œä»…åˆ›å»ºè€…å¯è®¿é—®
      // adminè§’è‰²: å¯ç®¡ç†æ‰€æœ‰æ–‡æ¡£
      ```
    - **æƒé™ä¸­é—´ä»¶**: `src/middleware/permission.ts`
      ```typescript
      // requireAuth(): è¦æ±‚ç”¨æˆ·ç™»å½•
      // requireRole(['admin', 'editor']): è¦æ±‚ç‰¹å®šè§’è‰²
      // checkDocumentAccess(): æ–‡æ¡£è®¿é—®æƒé™éªŒè¯
      ```
    - **å‰ç«¯æƒé™ç®¡ç†**: `src/hooks/usePermission.ts`
      ```typescript
      // hasRole(role): è§’è‰²åˆ¤æ–­
      // canEditDocument(document): æ–‡æ¡£ç¼–è¾‘æƒé™
      // canDeleteDocument(document): æ–‡æ¡£åˆ é™¤æƒé™
      ```

11. **å®Œå–„æ–‡æ¡£æ“ä½œä½“éªŒ**
    - **æ“ä½œç¡®è®¤å¯¹è¯æ¡†**: `src/components/ConfirmDialog.tsx`
      ```typescript
      // Ant Design Modal.confirm
      // åˆ é™¤ç¡®è®¤: â€œç¡®å®šè¦åˆ é™¤æ­¤æ–‡æ¡£å—ï¼Ÿâ€
      // å±é™©æ“ä½œé«˜äº®æ˜¾ç¤º
      ```
    - **å…¨å±€é”™è¯¯å¤„ç†**: `src/utils/errorHandler.ts`
      ```typescript
      // Ant Design messageç»„ä»¶æ˜¾ç¤ºé”™è¯¯
      // é”™è¯¯ç±»å‹: ç½‘ç»œé”™è¯¯ã€æƒé™é”™è¯¯ã€æœåŠ¡å™¨é”™è¯¯
      // ç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤ºä¿¡æ¯
      ```
    - **æ–‡ä»¶ä¸Šä¼ çš„å¤±è´¥é‡è¯•**:
      ```typescript
      // æœ€å¤§3æ¬¡é‡è¯•æœºåˆ¶
      // é‡è¯•é—´éš”: 2s, 5s, 10s
      // æ˜¾ç¤ºé‡è¯•è¿›åº¦å’Œå‰©ä½™æ¬¡æ•°
      ```
    - **LoadingçŠ¶æ€å’Œç©ºæ•°æ®å±•ç¤º**:
      ```typescript
      // Loadingç»„ä»¶: Ant Design Spin
      // Emptyç»„ä»¶: æ— æ•°æ®æ—¶çš„å‹å¥½æç¤º
      // Skeletonç»„ä»¶: åˆ—è¡¨åŠ è½½æ—¶çš„éª¨æ¶å±
      ```

### ğŸ·ï¸ é˜¶æ®µ3: æ ‡ç­¾å’Œæœç´¢åŠŸèƒ½ (ä»»åŠ¡12-15) â³ å¾…å¼€å‘

**ç›®æ ‡**: å®ç°é¢˜ç›®è¦æ±‚çš„æ–‡æ¡£æ ‡ç­¾åŒ–å’Œæœç´¢åŠŸèƒ½

**âœ… åŸºç¡€æ•°æ®**: 8ä¸ªé¢„è®¾æ ‡ç­¾å·²æ’å…¥æ•°æ®åº“ï¼Œtagsè¡¨å’Œdocument_tagså…³è”è¡¨å·²åˆ›å»º

12. **å®ç°æ ‡ç­¾ç®¡ç†ç³»ç»Ÿ**
    - **æ ‡ç­¾DAOå±‚**: `src/dao/tagDao.ts`
      ```typescript
      // createTag(): åˆ›å»ºæ ‡ç­¾ï¼ŒéªŒè¯åç§°å”¯ä¸€æ€§
      // getTags(): è·å–æ ‡ç­¾åˆ—è¡¨ï¼Œæ”¯æŒåˆ†é¡µå’Œæ’åº
      // updateTag(): æ›´æ–°æ ‡ç­¾åç§°ã€é¢œè‰²ã€æè¿°
      // deleteTag(): æ£€æŸ¥æ˜¯å¦æœ‰æ–‡æ¡£ä½¿ç”¨ï¼Œåˆ é™¤æˆ–ç¦ç”¨
      // getTagUsageCount(): ç»Ÿè®¡æ ‡ç­¾ä½¿ç”¨æ¬¡æ•°
      ```
    - **æ ‡ç­¾APIæ¥å£**: åŸºäºAPIæ¥å£è®¾è®¡æ–‡æ¡£
      ```typescript
      // GET /api/v1/tags?page=1&pageSize=50&sortBy=name - æ ‡ç­¾åˆ—è¡¨
      // POST /api/v1/tags - åˆ›å»ºæ ‡ç­¾ {name, color, description}
      // PUT /api/v1/tags/{id} - æ›´æ–°æ ‡ç­¾(ä»…åˆ›å»ºè€…æˆ–admin)
      // DELETE /api/v1/tags/{id} - åˆ é™¤æ ‡ç­¾(ä»…åˆ›å»ºè€…æˆ–admin)
      // GET /api/v1/tags/popular - çƒ­é—¨æ ‡ç­¾(æŒ‰usage_countæ’åº)
      ```
    - **æ ‡ç­¾ç®¡ç†é¡µé¢**: `src/pages/tags/TagManagement.tsx`
      ```typescript
      // æ ‡ç­¾åˆ—è¡¨: Ant Design Tableï¼Œæ˜¾ç¤ºæ ‡ç­¾åã€é¢œè‰²ã€ä½¿ç”¨æ¬¡æ•°ã€åˆ›å»ºæ—¶é—´
      // æ ‡ç­¾åˆ›å»º: Modal + Formï¼Œæ ‡ç­¾åç§°éªŒè¯ï¼Œé¢œè‰²é€‰æ‹©å™¨
      // æ ‡ç­¾ç¼–è¾‘: åœ¨çº¿ç¼–è¾‘æ¨¡å¼ï¼Œå®æ—¶ä¿å­˜
      // æ ‡ç­¾åˆ é™¤: æ£€æŸ¥å…³è”æ–‡æ¡£ï¼Œç¡®è®¤åˆ é™¤
      ```
    - **æ ‡ç­¾é€‰æ‹©ç»„ä»¶**: `src/components/TagSelector.tsx`
      ```typescript
      // Ant Design Selectç»„ä»¶ï¼Œæ”¯æŒå¤šé€‰
      // æ ‡ç­¾é¢œè‰²æ˜¾ç¤ºå’Œåç§°æœç´¢
      // æ”¯æŒåœ¨çº¿åˆ›å»ºæ–°æ ‡ç­¾
      ```

13. **å®ç°æ–‡æ¡£æ ‡ç­¾å…³è”**
    - **æ–‡æ¡£æ ‡ç­¾å…³è”API**: `src/dao/documentTagDao.ts`
      ```typescript
      // addDocumentTags(): æ‰¹é‡æ·»åŠ æ–‡æ¡£æ ‡ç­¾å…³è”
      // removeDocumentTags(): æ‰¹é‡ç§»é™¤æ–‡æ¡£æ ‡ç­¾å…³è”
      // getDocumentTags(): è·å–æ–‡æ¡£æ‰€æœ‰æ ‡ç­¾
      // updateDocumentTags(): å…¨é‡æ›´æ–°æ–‡æ¡£æ ‡ç­¾(åˆ é™¤æ—§çš„+æ·»åŠ æ–°çš„)
      // äº‹åŠ¡æ”¯æŒ: ä¿è¯æ•°æ®ä¸€è‡´æ€§
      ```
    - **æ–‡æ¡£ä¸Šä¼ æ—¶æ ‡ç­¾é€‰æ‹©**:
      ```typescript
      // åœ¨DocumentUploadç»„ä»¶ä¸­é›†æˆTagSelector
      // ä¸Šä¼ è¡¨å•åŒ…å«æ ‡ç­¾é€‰æ‹©å­—æ®µ
      // ä¸Šä¼ æˆåŠŸåè‡ªåŠ¨åˆ›å»ºæ–‡æ¡£æ ‡ç­¾å…³è”
      ```
    - **æ–‡æ¡£è¯¦æƒ…é¡µæ ‡ç­¾ç¼–è¾‘**:
      ```typescript
      // æ–‡æ¡£è¯¦æƒ…é¡µæ·»åŠ æ ‡ç­¾ç¼–è¾‘åŠŸèƒ½
      // Tagç»„ä»¶æ˜¾ç¤ºç°æœ‰æ ‡ç­¾ï¼Œå¯ç‚¹å‡»ç§»é™¤
      // â€œ+â€ æŒ‰é’®æ·»åŠ æ–°æ ‡ç­¾ï¼Œå¼¹å‡ºTagSelector
      ```
    - **æ–‡æ¡£åˆ—è¡¨ä¸­æ ‡ç­¾å±•ç¤º**:
      ```typescript
      // æ–‡æ¡£åˆ—è¡¨è¡¨æ ¼æ·»åŠ æ ‡ç­¾åˆ—
      // æ ‡ç­¾ä»¥Tagç»„ä»¶å½¢å¼æ˜¾ç¤º(é¢œè‰²+åç§°)
      // ç‚¹å‡»æ ‡ç­¾å¿«é€Ÿç­›é€‰ç›¸å…³æ–‡æ¡£
      ```

14. **å®ç°æœç´¢åŠŸèƒ½**
    - **æœç´¢åç«¯API**: `src/services/searchService.ts`
      ```typescript
      // æ–‡æ¡£æ ‡é¢˜æœç´¢: SELECT * FROM documents WHERE title LIKE '%keyword%'
      // æ ‡ç­¾ç­›é€‰æœç´¢: JOIN document_tags + tags è¡¨
      // ç»„åˆæœç´¢: æ ‡é¢˜å…³é”®è¯ + æ ‡ç­¾ç­›é€‰ + æ–‡ä»¶ç±»å‹ç­›é€‰
      // æœç´¢ç»“æœæ’åº: æŒ‰ç›¸å…³æ€§ã€åˆ›å»ºæ—¶é—´ã€æ–‡ä»¶å¤§å°æ’åº
      // åˆ†é¡µæ”¯æŒ: é»˜è®¤20æ¡/é¡µ
      ```
    - **æœç´¢APIæ¥å£**: åŸºäºAPIæ¥å£è®¾è®¡æ–‡æ¡£
      ```typescript
      // GET /api/v1/search?q=keyword&tags=1,2,3&fileType=pdf&page=1&pageSize=20
      // å‚æ•°: q(å…³é”®è¯), tags(æ ‡ç­¾ID), fileType(æ–‡ä»¶ç±»å‹), sortBy, sortOrder
      // å“åº”: {documents, total, page, pageSize, searchTime}
      ```
    - **æœç´¢é¡µé¢**: `src/pages/search/SearchPage.tsx`
      ```typescript
      // æœç´¢æ¡†: Ant Design Input.Searchï¼Œæ”¯æŒå›è½¦æœç´¢
      // é«˜çº§æœç´¢: æŠ˜å é¢æ¿ï¼Œæ ‡ç­¾é€‰æ‹©ã€æ–‡ä»¶ç±»å‹ã€æ—¥æœŸèŒƒå›´
      // æœç´¢ç»“æœ: æ–‡æ¡£åˆ—è¡¨æ˜¾ç¤ºï¼Œé«˜äº®å…³é”®è¯
      // æœç´¢ç»Ÿè®¡: æœç´¢è€—æ—¶ã€ç»“æœæ•°é‡æ˜¾ç¤º
      ```
    - **æœç´¢ç»“æœå¤„ç†**:
      ```typescript
      // å…³é”®è¯é«˜äº®: åœ¨æ–‡æ¡£æ ‡é¢˜å’Œæè¿°ä¸­é«˜äº®åŒ¹é…çš„å…³é”®è¯
      // æœç´¢å†å²: æœ¬åœ°å­˜å‚¨æœ€è¿‘æœç´¢è®°å½•
      // æœç´¢å»ºè®®: æ ¹æ®çƒ­é—¨æ ‡ç­¾å’Œæ–‡æ¡£æä¾›æœç´¢å»ºè®®
      ```

15. **ä¼˜åŒ–æœç´¢ä½“éªŒ**
    - **æœç´¢æ¡†è‡ªåŠ¨å®Œæˆ**: `src/components/SearchInput.tsx`
      ```typescript
      // Ant Design AutoCompleteç»„ä»¶
      // è¾“å…¥å…³é”®è¯æ—¶æ˜¾ç¤ºåŒ¹é…çš„æ–‡æ¡£æ ‡é¢˜
      // æ˜¾ç¤ºå†å²æœç´¢è®°å½•å’Œçƒ­é—¨æœç´¢
      // é˜²æŠ–åŠ¨å¤„ç†: 500mså»¶è¿Ÿæœç´¢
      ```
    - **æœç´¢ç»“æœå…³é”®è¯é«˜äº®**: `src/utils/highlightText.ts`
      ```typescript
      // ä½¿ç”¨dangerouslySetInnerHTMLæˆ–markæ ‡ç­¾é«˜äº®
      // æ”¯æŒå¤šä¸ªå…³é”®è¯åŒæ—¶é«˜äº®
      // XSSé˜²æŠ¤: è¾“å…¥æ¸…ç†å’Œè½¬ä¹‰
      ```
    - **å¸¸ç”¨æ ‡ç­¾å¿«é€Ÿç­›é€‰**: `src/components/QuickTagFilter.tsx`
      ```typescript
      // çƒ­é—¨æ ‡ç­¾æ˜¾ç¤º: æŒ‰ä½¿ç”¨æ¬¡æ•°æ’åºçš„å‰10ä¸ªæ ‡ç­¾
      // æ ‡ç­¾ç‚¹å‡»å¿«é€Ÿç­›é€‰
      // å·²é€‰æ ‡ç­¾çŠ¶æ€æ˜¾ç¤ºå’Œæ¸…é™¤
      ```
    - **æœç´¢æ— ç»“æœå¤„ç†**:
      ```typescript
      // å‹å¥½çš„ç©ºçŠ¶æ€æç¤º: â€œæœªæ‰¾åˆ°ç›¸å…³æ–‡æ¡£â€
      // æœç´¢å»ºè®®: â€œè¯•è¯•ä½¿ç”¨å…¶ä»–å…³é”®è¯æˆ–æ ‡ç­¾â€
      // ç›¸å…³æ ‡ç­¾æ¨è: æ ¹æ®æœç´¢å…³é”®è¯æ¨èç›¸å…³æ ‡ç­¾
      ```

### ğŸ‘¥ é˜¶æ®µ4: å›¢é˜Ÿåä½œå’Œç³»ç»Ÿå®Œå–„ (ä»»åŠ¡16-18) â³ å¾…å¼€å‘

**ç›®æ ‡**: å®ç°å›¢é˜Ÿå…±äº«åŠŸèƒ½å’Œç³»ç»Ÿæ•´ä½“ä¼˜åŒ–

**âœ… åŸºç¡€æƒé™**: ä¸‰è§’è‰²æƒé™ä½“ç³»å·²å»ºç«‹ï¼Œpermissionsè¡¨å·²åˆ›å»º

16. **å®ç°ç”¨æˆ·ç®¡ç†åŠŸèƒ½**
    - **ç”¨æˆ·ç®¡ç†åç«¯API**: åŸºäº`usersè¡¨`å’Œ`user_rolesè¡¨`
      ```typescript
      // GET /api/v1/users/me - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
      // PUT /api/v1/users/me - æ›´æ–°ä¸ªäººä¿¡æ¯(å§“åã€é‚®ç®±ã€å¤´åƒ)
      // PUT /api/v1/users/me/password - ä¿®æ”¹å¯†ç (éªŒè¯æ—§å¯†ç )
      // POST /api/v1/users/me/avatar - ä¸Šä¼ å¤´åƒ(multerå¤„ç†)
      ```
    - **ç®¡ç†å‘˜ç”¨æˆ·ç®¡ç†API**(ä»…adminè§’è‰²):
      ```typescript
      // GET /api/v1/admin/users?page=1&pageSize=20 - ç”¨æˆ·åˆ—è¡¨
      // POST /api/v1/admin/users/{id}/roles - ç”¨æˆ·è§’è‰²åˆ†é…
      // PUT /api/v1/admin/users/{id}/status - ç”¨æˆ·çŠ¶æ€ç®¡ç†(is_activeå­—æ®µ)
      // DELETE /api/v1/admin/users/{id} - ç”¨æˆ·åˆ é™¤(è½¯åˆ é™¤)
      ```
    - **è§’è‰²æƒé™ç®¡ç†**: åŸºäºæ•°æ®åº“è®¾è®¡æ–‡æ¡£ä¸­çš„rolesè¡¨
      ```typescript
      // admin: å…¨éƒ¨æƒé™(ç”¨æˆ·ç®¡ç†ã€ç³»ç»Ÿé…ç½®)
      // editor: æ–‡æ¡£ç®¡ç†æƒé™(ä¸Šä¼ ã€ç¼–è¾‘ã€åˆ é™¤è‡ªå·±çš„æ–‡æ¡£)
      // viewer: åªè¯»æƒé™(æŸ¥çœ‹å…¬å¼€æ–‡æ¡£ã€ä¸‹è½½)
      ```
    - **ç”¨æˆ·ç®¡ç†å‰ç«¯é¡µé¢**:
      ```typescript
      // ä¸ªäººè®¾ç½®é¡µ: src/pages/user/Profile.tsx
      //   - ä¸ªäººä¿¡æ¯ç¼–è¾‘(å§“åã€é‚®ç®±)
      //   - å¤´åƒä¸Šä¼ (æ‹–æ‹½ä¸Šä¼ ã€è£å‰ªåŠŸèƒ½)
      //   - å¯†ç ä¿®æ”¹(å®‰å…¨éªŒè¯)
      // ç”¨æˆ·åˆ—è¡¨é¡µ: src/pages/admin/UserManagement.tsx(ä»…admin)
      //   - ç”¨æˆ·åˆ—è¡¨(Tableç»„ä»¶)ã€è§’è‰²åˆ†é…ã€çŠ¶æ€ç®¡ç†
      //   - æ‰¹é‡æ“ä½œ(ç¦ç”¨/å¯ç”¨ç”¨æˆ·)
      ```

17. **å®ç°æ–‡æ¡£å…±äº«æœºåˆ¶**
    - **æ–‡æ¡£æƒé™ç®¡ç†**: åŸºäº`permissionsè¡¨`å®ç°ç»†ç²’åº¦æƒé™
      ```typescript
      // æ–‡æ¡£å¯è§æ€§è®¾ç½®: is_publicå­—æ®µ(0=ç§æœ‰,1=å…¬å¼€)
      // æ–‡æ¡£æ‰€æœ‰è€…: created_byå­—æ®µï¼Œæ‹¥æœ‰å…¨éƒ¨æƒé™
      // å…¬å¼€æ–‡æ¡£: ä»»ä½•ç”¨æˆ·å¯æŸ¥çœ‹å’Œä¸‹è½½
      // ç§æœ‰æ–‡æ¡£: ä»…æ‰€æœ‰è€…å’Œç‰¹å®šçš„æˆæƒç”¨æˆ·å¯è®¿é—®
      ```
    - **æ–‡æ¡£æƒé™ç®¡ç†API**:
      ```typescript
      // POST /api/v1/documents/{id}/permissions - æ·»åŠ ç”¨æˆ·æƒé™
      //   {userId, permission: 'read'|'write'|'admin'}
      // DELETE /api/v1/documents/{id}/permissions/{userId} - ç§»é™¤ç”¨æˆ·æƒé™
      // GET /api/v1/documents/{id}/permissions - è·å–æ–‡æ¡£æƒé™åˆ—è¡¨
      // PUT /api/v1/documents/{id}/public - è®¾ç½®æ–‡æ¡£å…¬å¼€/ç§æœ‰çŠ¶æ€
      ```
    - **æ–‡æ¡£åˆ†äº«åŠŸèƒ½**:
      ```typescript
      // åˆ†äº«é“¾æ¥ç”Ÿæˆ: åŸºäºJWTçš„æ—¶æ•ˆæ€§åˆ†äº«é“¾æ¥
      // GET /api/v1/shared/{shareToken} - é€šè¿‡åˆ†äº«é“¾æ¥è®¿é—®æ–‡æ¡£
      // åˆ†äº«è®¾ç½®: æœ‰æ•ˆæœŸã€è®¿é—®å¯†ç ã€ä¸‹è½½æ¬¡æ•°é™åˆ¶
      ```
    - **æƒé™ç®¡ç†ç•Œé¢**: `src/pages/documents/DocumentPermissions.tsx`
      ```typescript
      // ç”¨æˆ·é€‰æ‹©å™¨: æœç´¢ç”¨æˆ·åæˆ–é‚®ç®±
      // æƒé™è®¾ç½®: åªè¯»/è¯»å†™/ç®¡ç†æƒé™
      // æƒé™åˆ—è¡¨: æ˜¾ç¤ºå·²æˆæƒç”¨æˆ·å’Œæƒé™çº§åˆ«
      // åˆ†äº«é“¾æ¥: ç”Ÿæˆã€å¤åˆ¶ã€ç®¡ç†åˆ†äº«é“¾æ¥
      ```
    - **å›¢é˜Ÿæ–‡æ¡£å±•ç¤º**:
      ```typescript
      // æˆ‘çš„æ–‡æ¡£: ç”¨æˆ·åˆ›å»ºçš„æ–‡æ¡£
      // å…±äº«ç»™æˆ‘çš„: å…¶ä»–ç”¨æˆ·åˆ†äº«çš„æ–‡æ¡£
      // å…¬å¼€æ–‡æ¡£: æ‰€æœ‰å…¬å¼€å¯è®¿é—®çš„æ–‡æ¡£
      ```

18. **ç³»ç»Ÿé›†æˆæµ‹è¯•å’Œä¼˜åŒ–**
    - **ç«¯åˆ°ç«¯åŠŸèƒ½æµ‹è¯•æµç¨‹**: åŸºäºæµ‹è¯•è®¡åˆ’æ–‡æ¡£
      ```typescript
      // ç”¨æˆ·æ³¨å†Œç™»å½•æµ‹è¯•: éªŒè¯æ•´ä¸ªè®¤è¯æµç¨‹
      // æ–‡æ¡£ä¸Šä¼ æµ‹è¯•: ä¸Šä¼ å„ç§æ ¼å¼æ–‡ä»¶ï¼ŒéªŒè¯å­˜å‚¨å’Œå…ƒæ•°æ®
      // æ ‡ç­¾ç®¡ç†æµ‹è¯•: åˆ›å»ºæ ‡ç­¾ã€æ–‡æ¡£æ ‡ç­¾å…³è”ã€æ ‡ç­¾æœç´¢
      // æœç´¢åŠŸèƒ½æµ‹è¯•: å…³é”®è¯æœç´¢ã€æ ‡ç­¾ç­›é€‰ã€ç»„åˆæœç´¢
      // æ–‡æ¡£å…±äº«æµ‹è¯•: æƒé™è®¾ç½®ã€åˆ†äº«é“¾æ¥ã€è®¿é—®æ§åˆ¶
      ```
    - **ç•Œé¢å“åº”å¼é€‚é…**: åŸºäºAnt Designçš„Gridç³»ç»Ÿ
      ```typescript
      // æ”¯æŒæ–­ç‚¹: xs(<576px), sm(576px), md(768px), lg(992px), xl(1200px)
      // ç§»åŠ¨ç«¯ä¼˜åŒ–: è§¦æ‘¸æ“ä½œã€ç®€åŒ–ç•Œé¢ã€æ¨ªå±é€‚é…
      // æ•°æ®è¡¨è‡ªé€‚åº”: ç§»åŠ¨ç«¯å¡ç‰‡æ ·å¼ï¼Œæ¡Œé¢ç«¯è¡¨æ ¼æ ·å¼
      ```
    - **æ€§èƒ½ä¼˜åŒ–å®æ–½**:
      ```typescript
      // æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–: æ·»åŠ ç´¢å¼•(title, created_at, file_size)
      // åˆ†é¡µåŠ è½½: æ–‡æ¡£åˆ—è¡¨ã€æœç´¢ç»“æœå®ç°è™šæ‹Ÿæ»šåŠ¨
      // å›¾ç‰‡æ‡’åŠ è½½: ä½¿ç”¨Intersection Observer API
      // æ–‡ä»¶ä¸Šä¼ ä¼˜åŒ–: åˆ†å—ä¸Šä¼ ã€æ–­ç‚¹ç»­ä¼ ã€å‹ç¼©ä¼ è¾“
      ```
    - **é”™è¯¯å¤„ç†å®Œå–„**:
      ```typescript
      // å…¨å±€å¼‚å¸¸æ•è·: ErrorBoundaryç»„ä»¶åŒ…è£¹æ ¹ç»„ä»¶
      // ç½‘ç»œè¯·æ±‚é‡è¯•: Axiosè‡ªåŠ¨é‡è¯•æœºåˆ¶(3æ¬¡é‡è¯•)
      // ç”¨æˆ·å‹å¥½æç¤º: é”™è¯¯æ¶ˆæ¯æœ¬åœ°åŒ–ï¼Œæä¾›è§£å†³å»ºè®®
      // æ—¥å¿—è®°å½•: å‰ç«¯é”™è¯¯æ—¥å¿—ä¸ŠæŠ¥åˆ°åç«¯
      ```
    - **æœ€ç»ˆé›†æˆéªŒè¯**:
      ```typescript
      // åŠŸèƒ½å®Œæ•´æ€§: æ‰€æœ‰åŠŸèƒ½ç‚¹éƒ½å¯æ­£å¸¸ä½¿ç”¨
      // æ•°æ®ä¸€è‡´æ€§: æ•°æ®åº“å’Œå‰ç«¯çŠ¶æ€åŒæ­¥
      // æ€§èƒ½æŒ‡æ ‡: é¡µé¢åŠ è½½<3sï¼ŒAPIå“åº”<1s
      // å…¼å®¹æ€§: Chrome/Safari/Firefoxæµè§ˆå™¨æ­£å¸¸æ˜¾ç¤º
      ```

## ğŸ“‹ åŠŸèƒ½èŒƒå›´è¯´æ˜

### æ ¸å¿ƒåŠŸèƒ½å®ç°ï¼ˆä¸¥æ ¼æŒ‰é¢˜ç›®è¦æ±‚ï¼‰
- **æ–‡æ¡£ç®¡ç†**: ä¸Šä¼ ã€æŸ¥çœ‹ã€ç¼–è¾‘ã€åˆ é™¤ã€ä¸‹è½½æ–‡æ¡£ â³
- **æœç´¢åŠŸèƒ½**: æŒ‰æ ‡é¢˜æœç´¢ã€æ ‡ç­¾ç­›é€‰ã€ç»„åˆæœç´¢ â³
- **æ ‡ç­¾ç³»ç»Ÿ**: åˆ›å»ºæ ‡ç­¾ã€æ–‡æ¡£æ ‡ç­¾åŒ–ã€æ ‡ç­¾ç®¡ç† ğŸ”„ æ•°æ®åº“å·²å»º
- **ç”¨æˆ·ç®¡ç†**: ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€è§’è‰²ç®¡ç† ğŸ”„ æ•°æ®åº“å·²å»º
- **å›¢é˜Ÿåä½œ**: æ–‡æ¡£å…±äº«ã€æƒé™åˆ†é…ã€å›¢é˜Ÿè®¿é—® ğŸ”„ æ•°æ®åº“å·²å»º
- **âœ… ä¸‰å±‚æ¶æ„**: Reactå‰ç«¯ + Expressåç«¯ + SQLiteæ•°æ®åº“ (é¡¹ç›®ç»“æ„å·²å®Œæˆ)

### æŠ€æœ¯å®ç°ç‰¹è‰²
- âœ… åŸºäºç°æœ‰å®Œæ•´çš„è®¾è®¡æ–‡æ¡£å¿«é€Ÿå¼€å‘
- âœ… å·¥ä½œç©ºé—´(Workspace)é¡¹ç›®ç»“æ„ï¼Œæ”¯æŒä¸€é”®å¯åŠ¨
- âœ… TypeScriptå…¨æ ˆç±»å‹å®‰å…¨ (é…ç½®æ–‡ä»¶å·²å»º)
- âœ… Ant Designä¼ä¸šçº§UIç»„ä»¶ (ä¾èµ–å·²é…ç½®)
- ğŸ”„ JWTè®¤è¯å’ŒRBACæƒé™æ§åˆ¶ (æ•°æ®åº“ç»“æ„å·²å®Œæˆ)

### âŒ æš‚ä¸å®ç°çš„æ‰©å±•åŠŸèƒ½
- æ–‡æ¡£ç‰ˆæœ¬æ§åˆ¶å’Œå†å²è®°å½•
- è¯„è®ºå’Œåä½œç¼–è¾‘åŠŸèƒ½
- æ–‡æ¡£å…¨æ–‡å†…å®¹æœç´¢
- å¤æ‚çš„å¤šçº§æƒé™ä½“ç³»
- æ–‡æ¡£åœ¨çº¿é¢„è§ˆï¼ˆPDFç­‰ï¼‰
- ç³»ç»Ÿç›‘æ§å’Œæ“ä½œæ—¥å¿—
- æ–‡æ¡£å¯¼å…¥å¯¼å‡ºæ‰¹é‡æ“ä½œ
- ç§»åŠ¨ç«¯APPé€‚é…

## ğŸ¯ éªŒæ”¶æ ‡å‡†

### åŠŸèƒ½éªŒæ”¶æ¸…å•
- [ ] **ç”¨æˆ·ç³»ç»Ÿ**: ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€JWTè®¤è¯ã€è§’è‰²ç®¡ç†
- [ ] **æ–‡æ¡£ä¸Šä¼ **: æ”¯æŒå¤šç§æ ¼å¼æ–‡ä»¶ä¸Šä¼ ï¼ˆPDF/Word/Excel/PPT/TXT/å›¾ç‰‡ï¼‰
- [ ] **æ–‡æ¡£ç®¡ç†**: æ–‡æ¡£åˆ—è¡¨æŸ¥çœ‹ã€è¯¦æƒ…å±•ç¤ºã€ä¿¡æ¯ç¼–è¾‘ã€åˆ é™¤åŠŸèƒ½
- [ ] **æ ‡ç­¾ç³»ç»Ÿ**: æ ‡ç­¾åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤ï¼Œæ–‡æ¡£æ ‡ç­¾ç»‘å®šå’Œå±•ç¤º
- [ ] **æœç´¢åŠŸèƒ½**: æŒ‰æ–‡æ¡£æ ‡é¢˜æœç´¢ã€æ ‡ç­¾ç­›é€‰ã€ç»„åˆæœç´¢
- [ ] **æƒé™æ§åˆ¶**: æ–‡æ¡£å…¬å¼€/ç§æœ‰è®¾ç½®ã€å›¢é˜Ÿè®¿é—®æƒé™
- [ ] **æ–‡æ¡£ä¸‹è½½**: å®‰å…¨çš„æ–‡ä»¶ä¸‹è½½åŠŸèƒ½
- [ ] **ç”¨æˆ·ç•Œé¢**: å“åº”å¼è®¾è®¡ã€å‹å¥½çš„äº¤äº’ä½“éªŒ

### æŠ€æœ¯éªŒæ”¶è¦æ±‚
- [ ] **æ¶æ„åˆè§„**: ä¸¥æ ¼éµå¾ªä¸‰å±‚æ¶æ„ï¼ˆReact + Express + SQLiteï¼‰
- [ ] **APIæ ‡å‡†**: RESTful APIè®¾è®¡ï¼Œç»Ÿä¸€å“åº”æ ¼å¼
- [ ] **ä»£ç è´¨é‡**: TypeScriptç±»å‹å®‰å…¨ï¼ŒESLint/Prettierè§„èŒƒ
- [ ] **å®‰å…¨æ€§**: JWTè®¤è¯ã€æƒé™éªŒè¯ã€è¾“å…¥éªŒè¯ã€æ–‡ä»¶å®‰å…¨æ£€æŸ¥
- [ ] **æ€§èƒ½**: å“åº”æ—¶é—´<3ç§’ï¼Œæ”¯æŒæ–‡ä»¶åˆ†å—ä¸Šä¼ 
- [ ] **å¯ç»´æŠ¤æ€§**: æ¸…æ™°çš„ç›®å½•ç»“æ„ï¼Œå®Œå–„çš„é”™è¯¯å¤„ç†

### éƒ¨ç½²éªŒæ”¶
- [ ] **å¼€å‘ç¯å¢ƒ**: `npm run dev`ä¸€é”®å¯åŠ¨å‰åç«¯
- [ ] **ç”Ÿäº§æ„å»º**: `npm run build`æˆåŠŸæ„å»º
- [ ] **æ•°æ®åº“**: è‡ªåŠ¨åˆ›å»ºè¡¨ç»“æ„å’Œåˆå§‹æ•°æ®
- [ ] **æ–‡æ¡£**: æä¾›ç®€å•çš„ä½¿ç”¨è¯´æ˜

## â±ï¸ å¼€å‘è®¡åˆ’

### æ—¶é—´é¢„ä¼°ï¼ˆåŸºäºå·²å®ŒæˆåŸºç¡€è®¾æ–½ï¼‰
- **æ€»å·¥æœŸ**: 2-3å‘¨ï¼ˆåŸºç¡€è®¾æ–½å·²å®Œæˆï¼Œä¸“æ³¨ä¸šåŠ¡é€»è¾‘å¼€å‘ï¼‰
- **é˜¶æ®µ1**: 3å¤© (ä»»åŠ¡1-5) - è®¤è¯ç³»ç»Ÿå’ŒAPIæ¡†æ¶æ­å»º
- **é˜¶æ®µ2**: 6å¤© (ä»»åŠ¡6-11) - æ–‡æ¡£ç®¡ç†åŠŸèƒ½
- **é˜¶æ®µ3**: 4å¤© (ä»»åŠ¡12-15) - æ ‡ç­¾æœç´¢åŠŸèƒ½
- **é˜¶æ®µ4**: 3å¤© (ä»»åŠ¡16-18) - å›¢é˜Ÿåä½œå’Œä¼˜åŒ–

### å¼€å‘ä¼˜åŠ¿ï¼ˆæ–°å¢å®Œæˆé¡¹ï¼‰
- âœ… **è®¾è®¡æ–‡æ¡£å®Œæ•´**: éœ€æ±‚åˆ†æã€ç³»ç»Ÿè®¾è®¡ã€æ•°æ®åº“è®¾è®¡ã€APIè®¾è®¡å·²å®Œæˆ
- âœ… **é¡¹ç›®ç»“æ„å°±ç»ª**: å‰åç«¯ç›®å½•ç»“æ„å’Œpackage.jsonå·²é…ç½®
- âœ… **æ•°æ®åº“å·²åˆ›å»º**: SQLiteæ•°æ®åº“æ–‡ä»¶å·²ç”Ÿæˆï¼Œè¡¨ç»“æ„å’Œåˆå§‹æ•°æ®å®Œæ•´
- âœ… **å·¥ä½œç©ºé—´é…ç½®**: npm workspaces + concurrently å¹¶è¡Œå¼€å‘ç¯å¢ƒ
- âœ… **æŠ€æœ¯æ ˆæ˜ç¡®**: æ— éœ€æŠ€æœ¯é€‰å‹ï¼Œç›´æ¥æŒ‰æ—¢å®šæ–¹æ¡ˆå®æ–½
- âœ… **å¼€å‘ç¯å¢ƒ**: macOS 11.7.10 + Node.js 16+ ç¯å¢ƒå·²å°±ç»ª
- âœ… **æ„å»ºå·¥å…·**: TypeScripté…ç½®ã€ESLint/Prettierè§„èŒƒã€æ„å»ºè„šæœ¬å®Œæ•´

## ğŸ› ï¸ æŠ€æœ¯æ ˆé…ç½®

### å‰ç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: React 18 + TypeScript + Vite
- **UIåº“**: Ant Design 5.9.0
- **è·¯ç”±**: React Router DOM 6.15.0
- **HTTPå®¢æˆ·ç«¯**: Axios 1.5.0
- **çŠ¶æ€ç®¡ç†**: React Context API

### åç«¯æŠ€æœ¯æ ˆ
- **è¿è¡Œæ—¶**: Node.js 16+ + TypeScript 5.2.2
- **æ¡†æ¶**: Express 4.18.2
- **æ•°æ®åº“**: better-sqlite3 8.7.0
- **è®¤è¯**: jsonwebtoken 9.0.2 + bcryptjs 2.4.3
- **æ–‡ä»¶å¤„ç†**: multer 1.4.5
- **å®‰å…¨**: helmet 7.0.0 + cors 2.8.5

### å¼€å‘å·¥å…·
- **æ„å»º**: Vite + tsc
- **ä»£ç è§„èŒƒ**: ESLint + Prettier
- **æµ‹è¯•**: Jest + Vitest
- **è¿›ç¨‹ç®¡ç†**: concurrently (å¼€å‘) + PM2 (ç”Ÿäº§)

## ğŸš€ å¯åŠ¨æŒ‡å—

### å¿«é€Ÿå¼€å§‹ï¼ˆâœ… å½“å‰å¯ç”¨å‘½ä»¤ï¼‰
```bash
# 1. å®‰è£…ä¾èµ–ï¼ˆéœ€è¦å…ˆæ‰§è¡Œï¼‰
npm install

# 2. âœ… æ•°æ®åº“å·²åˆå§‹åŒ–ï¼ˆå¯é‡æ–°åˆå§‹åŒ–ï¼‰
npm run db:init  # é‡æ–°åˆ›å»ºæ•°æ®åº“
npm run db:test  # éªŒè¯æ•°æ®åº“çŠ¶æ€

# 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆéœ€è¦å…ˆå®Œæˆè®¤è¯ç³»ç»Ÿå¼€å‘ï¼‰
npm run dev

# å‰ç«¯: http://localhost:3000 ï¼ˆéœ€è¦å¼€å‘UIï¼‰
# åç«¯: http://localhost:8000 ï¼ˆéœ€è¦å¼€å‘APIï¼‰
```

### âœ… å·²å®ŒæˆåŸºç¡€è®¾æ–½éªŒè¯
```bash
# éªŒè¯æ•°æ®åº“åˆ›å»ºæˆåŠŸ
ls -la database/  # æŸ¥çœ‹æ•°æ®åº“æ–‡ä»¶ (116KB)
sqlite3 database/knowledge_base.db ".tables"  # æŸ¥çœ‹è¡¨ç»“æ„
```

### ç”Ÿäº§éƒ¨ç½²
```bash
# æ„å»ºé¡¹ç›®
npm run build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡
npm start
```

## âš¡ å¼€å‘æ‰§è¡Œç»†èŠ‚è¡¥å……

### ğŸ“ æ–‡ä»¶è·¯å¾„å’Œå‘½åè§„èŒƒï¼ˆå·²ç¡®è®¤ï¼‰
- **æ•°æ®åº“æ–‡ä»¶**: `/Users/weichen/Documents/testClass/Project/database/knowledge_base.db`
- **ä¸Šä¼ æ–‡ä»¶ç›®å½•**: `/Users/weichen/Documents/testClass/Project/backend/uploads/`
- **æ—¥å¿—æ–‡ä»¶**: `/Users/weichen/Documents/testClass/Project/backend/logs/`
- **ç¯å¢ƒé…ç½®**: å‰åç«¯åˆ†åˆ«é…ç½®ï¼ˆå‰ç«¯ç«¯å£3000ï¼Œåç«¯ç«¯å£8000ï¼‰
- **é¡¹ç›®æ ¹ç›®å½•**: `/Users/weichen/Documents/testClass/Project/`

### ğŸ”§ å…³é”®æŠ€æœ¯å®ç°è¦ç‚¹ï¼ˆå·²å®ŒæˆåŸºç¡€éƒ¨åˆ†ï¼‰
- **âœ… æ•°æ®åº“åˆå§‹åŒ–**: ä½¿ç”¨`backend/src/database/schema.sql`å’ŒSQLite CLIç›´æ¥åˆ›å»º
- **æ–‡ä»¶ä¸Šä¼ **: åŸºäºmulter + æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼Œæ”¯æŒMAX_FILE_SIZE=52428800ï¼ˆ50MBï¼‰
- **JWTé…ç½®**: éœ€è¦é…ç½®ç¯å¢ƒå˜é‡JWT_SECRETï¼Œé»˜è®¤è¿‡æœŸæ—¶é—´2å°æ—¶
- **âœ… æƒé™éªŒè¯**: åŸºäºrolesè¡¨çš„admin/editor/viewerä¸‰è§’è‰²è®¾è®¡ï¼ˆå·²åˆ›å»ºï¼‰
- **æœç´¢å®ç°**: ä½¿ç”¨SQLiteçš„LIKEæŸ¥è¯¢å’ŒJOINæ“ä½œï¼Œæ”¯æŒåˆ†é¡µ
- **âœ… é¡¹ç›®ç»“æ„**: å®Œæ•´çš„monorepoå·¥ä½œç©ºé—´ç»“æ„å·²å»ºç«‹

### ğŸ“‹ ä»»åŠ¡ä¾èµ–å…³ç³»
- **ä»»åŠ¡1-5**: å¿…é¡»æŒ‰é¡ºåºå®Œæˆï¼Œä¸ºåç»­å¼€å‘æ‰“åŸºç¡€
- **ä»»åŠ¡6-8**: å¯å¹¶è¡Œå¼€å‘ï¼Œä½†éœ€è¦ä»»åŠ¡7çš„APIå®Œæˆåæ‰èƒ½æµ‹è¯•ä»»åŠ¡8
- **ä»»åŠ¡12-13**: æ ‡ç­¾ç®¡ç†å¿…é¡»å…ˆå®Œæˆï¼Œå†å®ç°æ–‡æ¡£æ ‡ç­¾å…³è”
- **ä»»åŠ¡16-17**: ç”¨æˆ·ç®¡ç†æ˜¯æ–‡æ¡£æƒé™çš„å‰ç½®æ¡ä»¶

### ğŸ¯ å…³é”®é‡Œç¨‹ç¢‘éªŒè¯ï¼ˆæ›´æ–°çŠ¶æ€ï¼‰
- **âœ… åŸºç¡€æ­å»ºå®Œæˆ**: é¡¹ç›®ç»“æ„ã€æ•°æ®åº“ã€é…ç½®æ–‡ä»¶å…¨éƒ¨å°±ç»ª
- **Week 1ç›®æ ‡**: å®ç°è®¤è¯ç³»ç»Ÿï¼Œå¯é€šè¿‡`npm run dev`å¯åŠ¨é¡¹ç›®ï¼Œè®¿é—®ç™»å½•é¡µé¢
- **Week 2ç›®æ ‡**: å¯ä¸Šä¼ æ–‡æ¡£å¹¶åœ¨åˆ—è¡¨ä¸­æŸ¥çœ‹
- **Week 3ç›®æ ‡**: å¯æœç´¢æ–‡æ¡£å’Œç®¡ç†æ ‡ç­¾
- **Week 4ç›®æ ‡**: å®Œæ•´çš„æƒé™æ§åˆ¶å’Œç”¨æˆ·ç®¡ç†åŠŸèƒ½